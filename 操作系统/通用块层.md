对于 [块设备](设备控制器)，为了减少不同块设备的差异带来的影响，Linux 通过一个统一的 **通用块层**，来管理不同的块设备

通用块层是处于文件系统和磁盘驱动中间的一个块设备抽象层，它主要有两个功能：

1. 向上为文件系统和应用程序，提供访问块设备的标准接口，向下把各种不同的磁盘设备抽象为统一的块设备，并在内核层面，提供一个框架来管理这些设备的驱动程序
2. 通用层还会给文件系统和应用程序发来的 I/O 请求排队，接着会对队列重新排序、请求合并等方式，也就是 I/O 调度，主要目的是为了提高磁盘读写的效率

## Linux 内核支持的 I/O 调度算法

### 没有调度算法

不对文件系统和应用程序的 I/O 做任何处理，这种算法常用在虚拟机 I/O 中，此时磁盘 I/O 调度算法交由物理机系统负责

### 先入先出调度算法

最简单的 I/O 调度算法，先进入 I/O 调度队列的 I/O 请求先发生

### 完全公平调度算法

大部分系统都把这个算法作为默认的 I/O 调度器，它为每个进程维护了一个 I/O 调度队列，并按照时间片来均匀分布每个进程的 I/O 请求

### 优先级调度算法

顾名思义，优先级高的 I/O 请求先发生， 它适用于运行大量进程的系统，像是桌面环境、多媒体应用等

### 最终期限调度算法

分别为读、写请求创建了不同的 I/O 队列，这样可以提高机械磁盘的吞吐量，并确保达到最终期限的请求被优先处理，适用于在 I/O 压力比较大的场景，比如数据库等
