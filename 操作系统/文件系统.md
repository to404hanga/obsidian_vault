## 文件系统的基本组成

文件系统是操作系统中负责 **管理持久数据** 的子系统，文件系统的基本数据单位是文件，它的目的是对磁盘上的文件进行组织管理，组织的方式不同，就会形成不同的文件系统

Linux 文件系统会为每个文件分配两个数据结构：**索引节点**（index node）和 **目录项**（directory entry），用于记录文件的元信息和目录层次结构

1. 索引节点，也就是 inode，用于记录文件的元信息，比如 inode 编号、文件大小、访问权限、创建时间、修改时间、数据在磁盘的位置等等。索引节点是文件的 **唯一** 标识，它们一一对应，也都会存储在磁盘，所以索引节点同样占用着磁盘空间
2. 目录下，也就是 dentry，用于记录文件的名字、索引节点指针以及与其他目录项的层级关联关系。多个目录项关联起来，就会形成目录结构，但它与索引节点不同的是，目录项是由内核维护的一个数据结构，不存放于磁盘，而是缓存在内存

由于索引节点唯一标识一个文件，而目录项记录着文件的名字，所以目录项和索引节点的关系是多对一，也就是说，一个文件可以有多个别名。比如，硬链接的实现就是多个目录项中的索引节点指向同一个文件

注意，目录也是文件，也是用索引节点唯一标识，和普通文件不同的是，普通文件在磁盘里面保存的是文件数据，而目录文件保存的是子目录或文件