{"index":{"vectorIndexes":{"embedding":{"size":1024,"vectors":{"3bc28948358908d3d01d2ca76befd446":[0.9999999809852466,[0.011486344039440155,0.02332332171499729,-0.03253762423992157,0.008483455516397953,-0.003345787525177002,0.0026377523317933083,0.06069845333695412,0.047521673142910004,-0.024645255878567696,-0.010254546999931335,-0.01699388027191162,0.011856388300657272,-0.01673772931098938,0.020010007545351982,0.013413435779511929,-0.03474574163556099,-0.026793284341692924,-0.00453748507425189,-0.01727101393043995,-0.0013338761636987329,-0.023290617391467094,0.015558229759335518,0.025662850588560104,0.006509535945951939,-0.020816516131162643,0.07206709682941437,-0.017711587250232697,-0.022217506542801857,0.002752018626779318,0.0039035258814692497,0.004400464240461588,0.0053220633417367935,0.0023598987609148026,-0.009354324080049992,-0.011005565524101257,-0.01362172607332468,-0.02393922582268715,-0.018352989107370377,-0.11999134719371796,-0.003871907014399767,0.021898454055190086,0.012103332206606865,-0.042205579578876495,0.01269841380417347,0.0037921112962067127,0.016868066042661667,-0.025066683068871498,-0.07303542643785477,0.007322800811380148,-0.008644253015518188,-0.019745085388422012,0.005150953773409128,0.011645092628896236,-0.03378239646553993,0.0118448156863451,0.03139619529247284,-0.0030789377633482218,-0.02475454844534397,-0.010134776122868061,-0.03684558719396591,0.004943902138620615,0.0030411588959395885,-0.03545777499675751,-0.022492526099085808,-0.03646787256002426,0.023113703355193138,0.01596013829112053,0.029075413942337036,0.03572375327348709,-0.023292290046811104,-0.0063917376101017,-0.002608310431241989,-0.027272343635559082,-0.06370258331298828,-0.001649681944400072,0.013903898186981678,0.021377848461270332,0.01535933930426836,0.004063202999532223,-0.0465802364051342,0.12743611633777618,-0.027841679751873016,0.020841237157583237,-0.027743257582187653,-0.04368606582283974,-0.006191335152834654,-0.003371118800714612,0.059492453932762146,-0.012596038170158863,0.026447627693414688,-0.01459126640111208,0.042973585426807404,0.002076511038467288,-0.05567331612110138,-0.00015635156887583435,0.0006835917592979968,0.014795755036175251,-0.039502788335084915,0.023770829662680626,-0.014532176777720451,-0.027877986431121826,-0.04448039457201958,0.006291717290878296,0.058335091918706894,0.01760784164071083,0.002261063549667597,0.019333206117153168,0.026970351114869118,-0.0061237080954015255,0.015526737086474895,-0.04604523256421089,-0.02171485498547554,-0.03741839900612831,-0.0171958040446043,0.0018688703421503305,-0.02906114235520363,-0.02591593749821186,0.001164344954304397,0.013413980603218079,0.0059104198589921,0.010928092524409294,0.05817167088389397,-0.0035731366369873285,-0.010024462826550007,0.014777978882193565,0.021125461906194687,0.0015918317949399352,0.057576265186071396,-0.04011783376336098,-0.00860996451228857,0.020929569378495216,0.033070120960474014,0.035137295722961426,-0.010549833066761494,-0.046745169907808304,-0.00865158811211586,0.0522228479385376,0.05170018598437309,0.026054926216602325,-0.024601470679044724,0.024702003225684166,0.009147482924163342,-0.022781431674957275,-0.0031068120151758194,0.06439585983753204,-0.02464316040277481,0.005659905262291431,-0.018026497215032578,-0.023206036537885666,0.05334038287401199,-0.008766057901084423,-0.04873672500252724,-0.021120252087712288,0.0025901347398757935,0.024408752098679543,0.007663334254175425,0.017269862815737724,0.022782640531659126,0.025736765936017036,-0.042218517512083054,0.022749366238713264,-0.02883034385740757,0.01942928321659565,0.032436173409223557,0.017295992001891136,0.026493852958083153,0.02645581215620041,0.005278158467262983,0.019493073225021362,0.0016268182080239058,-0.007555983029305935,-0.08356774598360062,0.04186498746275902,-0.005481841508299112,0.030164288356900215,0.05602122098207474,0.0421929806470871,0.047695234417915344,0.06694643944501877,-0.044712793081998825,0.011701119132339954,0.029182981699705124,0.026000995188951492,-0.04553576558828354,0.05220632255077362,-0.004939080681651831,0.023240432143211365,0.017842676490545273,0.014564835466444492,0.05148416385054588,-0.0006929550436325371,-0.019476836547255516,0.040012381970882416,0.023708054795861244,0.008957520127296448,0.01719457283616066,-0.010709427297115326,0.0024970450904220343,0.05057143419981003,-0.04020141065120697,-0.04217297211289406,0.029582617804408073,-0.03486241027712822,-0.008567665703594685,-0.005221466068178415,0.010649175383150578,-0.03803137689828873,-0.060129228979349136,0.016481216996908188,0.025870680809020996,0.04937714338302612,0.005367031320929527,0.00917601678520441,0.014324301853775978,-0.006930466275662184,0.01171332411468029,0.0051658847369253635,-0.03125433251261711,0.0026882276870310307,-0.02033136785030365,-0.0034635497722774744,-0.01640097051858902,0.018887963145971298,-0.02734408900141716,0.0026373194996267557,0.016497915610671043,0.005103382747620344,0.03000451996922493,0.027968019247055054,0.030564242973923683,-0.049373891204595566,0.09365396201610565,-0.032219048589468,-0.02511751279234886,0.015075013972818851,0.02541474439203739,-0.038407083600759506,0.031035035848617554,0.026915695518255234,0.03578103333711624,-0.0005237869336269796,-0.04700895771384239,0.004151611588895321,-0.011671599932014942,-0.06152525171637535,0.040574539452791214,0.004130448214709759,0.028487708419561386,-0.04201453551650047,0.02034837007522583,-0.03805433213710785,-0.022697338834404945,-0.004305610433220863,0.00033515869290567935,0.007577288430184126,-0.04215000942349434,-0.015863746404647827,-0.03406762704253197,0.025326933711767197,0.010162371210753918,0.018230536952614784,-0.02628197893500328,0.00745112169533968,0.039172280579805374,0.01897256262600422,0.014618905261158943,-0.007049670442938805,-0.011458132416009903,0.00590902054682374,0.07215148210525513,-0.02418113872408867,0.0176254715770483,-0.033761024475097656,-0.014215539209544659,-0.0016833161935210228,-0.02444702759385109,-0.0042176577262580395,-0.03584597259759903,0.03594265878200531,-0.04037632793188095,0.007684179116040468,-0.0388982780277729,-0.01357460767030716,-0.01539335586130619,-0.008494988083839417,0.02569659613072872,0.02315227873623371,0.00645597605034709,0.04031818360090256,-0.016149360686540604,0.002421147422865033,-0.02226877585053444,0.08046850562095642,-0.037802644073963165,0.02151382528245449,-0.00006443593156291172,-0.019720880314707756,-0.16696104407310486,-0.05877711996436119,0.046451643109321594,0.006359629798680544,0.009771295823156834,-0.006356575060635805,0.0036279752384871244,-0.012594913132488728,-0.01858091726899147,-0.06026577949523926,-0.02288590744137764,-0.1464359313249588,-0.010008053854107857,-0.04806782677769661,0.013954638503491879,0.010294648818671703,0.05105455592274666,0.024009985849261284,0.000869043346028775,-0.06951218843460083,0.02020912803709507,0.02669956348836422,0.05765748769044876,0.047926124185323715,-0.0018877875991165638,0.006793096195906401,0.043244797736406326,0.03810953348875046,-0.02436474896967411,-0.0045558554120361805,-0.022220613434910774,0.02486071176826954,-0.03276554495096207,-0.03585895895957947,0.014802159741520882,0.013275508768856525,0.007975034415721893,0.009774903766810894,0.004454135429114103,0.014982317574322224,0.03206416964530945,0.03301234543323517,-0.006969855632632971,-0.07104343175888062,0.04750921577215195,-0.006801708601415157,0.0368863008916378,-0.0051291631534695625,-0.009108904749155045,0.03174477443099022,0.016441619023680687,0.018900098279118538,0.0399952195584774,0.008524478413164616,-0.0062044705264270306,0.020639779046177864,0.01684112846851349,0.05403885617852211,0.008689300157129765,0.03340259566903114,-0.017444662749767303,-0.043834835290908813,-0.03214258328080177,-0.012967117130756378,0.006539664231240749,-0.005565283820033073,-0.00796144362539053,-0.0003677311760839075,-0.01715048775076866,-0.05577913299202919,0.008536255918443203,-0.017968475818634033,-0.04189357906579971,-0.003786542685702443,-0.012830635532736778,-0.008739214390516281,0.0034915260039269924,-0.04538903757929802,-0.00165517907589674,-0.08867597579956055,0.03498154506087303,0.00951121561229229,-0.017247483134269714,0.025179095566272736,0.01191060058772564,0.01456144917756319,-0.046059150248765945,-0.029036173596978188,0.033784862607717514,0.3415338695049286,-0.025912011042237282,-0.03023444674909115,0.008468536660075188,0.038118451833724976,0.012127378024160862,0.009019589982926846,0.007083960808813572,0.0029182089492678642,-0.009820436127483845,-0.004172103945165873,0.014654261991381645,0.03495244309306145,0.035347409546375275,0.02119792439043522,0.054575178772211075,-0.019135698676109314,0.03102787770330906,-0.007270917296409607,-0.010680983774363995,0.04848180338740349,-0.02851887047290802,0.0039817579090595245,0.0003977751766797155,-0.05514727160334587,0.040654368698596954,0.0215778648853302,-0.012997908517718315,-0.03143683448433876,0.007733866572380066,-0.007712088525295258,-0.005902445409446955,-0.041995108127593994,-0.04613536596298218,-0.012350895442068577,-0.0012386731104925275,-0.06530814617872238,-0.061319101601839066,-0.01515588816255331,-0.01802312768995762,0.016865909099578857,-0.030758976936340332,0.0023751205299049616,0.01009581983089447,-0.030362533405423164,-0.025115009397268295,0.0116324657574296,0.004859189037233591,-0.0012231293367221951,-0.03224567323923111,0.003033417509868741,-0.019642215222120285,-0.017410418018698692,0.0051955427043139935,-0.0015756244538351893,-0.01563323102891445,-0.02263449877500534,0.008451258763670921,-0.052068501710891724,0.015917953103780746,0.009952768683433533,0.036384664475917816,-0.053098198026418686,0.022430267184972763,0.04817081242799759,-0.0032800701446831226,-0.019248854368925095,-0.015546648763120174,-0.020701350644230843,0.014556439593434334,0.04811866208910942,0.03411107510328293,0.05317438021302223,-0.022692112252116203,-0.01334189623594284,0.0063261110335588455,-0.004160573240369558,0.019779948517680168,0.01807755045592785,0.018814830109477043,-0.005449144169688225,0.0014484076527878642,0.029569389298558235,0.023430118337273598,0.005220543593168259,0.023854611441493034,-0.05160213261842728,0.041649654507637024,-0.005482448730617762,-0.03302265703678131,-0.015392834320664406,-0.014653600752353668,-0.002248210832476616,-0.021337373182177544,0.023215143010020256,-0.009151820093393326,0.024146422743797302,-0.04779418930411339,0.006486375816166401,-0.014376004226505756,0.034242741763591766,0.06885851919651031,0.014111785218119621,-0.01731642708182335,0.017920108512043953,-0.04066522791981697,0.023040998727083206,-0.0532667376101017,-0.042886730283498764,-0.013646907173097134,-0.04324347898364067,0.0028346828185021877,-0.008316880092024803,0.0014995245728641748,0.044558972120285034,0.005761678330600262,0.0158768929541111,0.028379861265420914,0.010386099107563496,0.033516209572553635,-0.0024871742352843285,-0.048504073172807693,0.04327241703867912,-0.0030681395437568426,-0.01513502188026905,-0.07831220328807831,-0.0004930044524371624,-0.04917563870549202,0.016327355057001114,-0.0038283171597868204,0.01903451420366764,0.035024117678403854,-0.005333468783646822,-0.0059653776697814465,-0.03248869627714157,-0.02518128603696823,0.023731976747512817,-0.008544397540390491,-0.032090213149785995,0.04768327251076698,0.036836814135313034,-0.016809888184070587,0.0013784614857286215,0.031783439218997955,-0.02451074682176113,0.005470653995871544,-0.005947023164480925,-0.0030775482300668955,-0.02822231873869896,-0.008675630204379559,0.0028489059768617153,-0.0008558027911931276,0.03720109537243843,-0.04010879993438721,0.020883560180664062,0.0026025031693279743,0.009006645530462265,-0.006441064178943634,-0.010270518250763416,-0.03563258796930313,-0.019983137026429176,0.016812393441796303,0.020988883450627327,0.07585899531841278,0.015409188345074654,0.006687340326607227,0.046429507434368134,0.03266032412648201,-0.015700142830610275,0.011170685291290283,-0.0034720476251095533,-0.031686242669820786,0.024632783606648445,-0.005678419955074787,0.020778536796569824,-0.04026516154408455,-0.01783006452023983,0.03661469742655754,0.005559065379202366,-0.027824891731142998,0.03718588873744011,0.02031700313091278,-0.012079049833118916,-0.00233685364946723,-0.04458340257406235,0.00022313703084364533,-0.012049209326505661,0.015684159472584724,-0.0014187966007739305,-0.03222933039069176,-0.004383223131299019,0.052379440516233444,0.015111500397324562,-0.006946793291717768,0.004545325879007578,-0.011581173166632652,-0.006041442509740591,0.020403128117322922,-0.004809346050024033,-0.01904633454978466,0.02027471549808979,0.02835925668478012,0.0032033042516559362,0.03160163387656212,0.020471559837460518,-0.02846786007285118,0.033982954919338226,0.030256083235144615,0.021823225542902946,-0.01660792902112007,-0.005214923061430454,-0.00775431003421545,0.013366476632654667,-0.010485552251338959,-0.0055604251101613045,-0.03968260809779167,0.05760587006807327,0.02873588539659977,0.03515855222940445,-0.01949204131960869,-0.04574470967054367,-0.04244796931743622,0.007466934621334076,-0.04276936128735542,-0.03668806701898575,0.030908823013305664,-0.0012370309559628367,-0.007856493815779686,-0.028520865365862846,-0.025587331503629684,-0.01690969429910183,0.004210874903947115,-0.004557961132377386,-0.029917344450950623,-0.0019174162298440933,0.006250150967389345,0.011783461086452007,0.006162215955555439,0.03740235045552254,0.024435458704829216,0.011602592654526234,-0.007695487234741449,0.006564246956259012,0.00165328080765903,-0.004699287470430136,0.026584794744849205,-0.05281353369355202,0.02722983993589878,-0.016403404995799065,-0.01558645348995924,-0.00027823849814012647,-0.018201442435383797,-0.07116781175136566,-0.03733326122164726,0.03599796071648598,0.055147748440504074,-0.002158442744985223,-0.047192707657814026,-0.015935853123664856,0.004770743660628796,-0.00200169556774199,0.03120206668972969,0.013276496902108192,-0.016711493954062462,0.009394360706210136,0.018271885812282562,-0.016573160886764526,-0.027295920997858047,0.006689388304948807,-0.04492760822176933,-0.03577366843819618,-0.023097485303878784,-0.018769411370158195,-0.0051036798395216465,-0.0008481631521135569,-0.014503072015941143,0.0031991631258279085,-0.026897640898823738,0.004459727089852095,0.016433121636509895,-0.07055799663066864,-0.012357006780803204,-0.0014019226655364037,0.009924249723553658,-0.034945227205753326,-0.01900729537010193,-0.0009195852908305824,-0.018355628475546837,-0.02219482697546482,0.003892184467986226,0.03267737478017807,-0.002898752223700285,-0.020098285749554634,0.007329908199608326,0.007751667872071266,0.023822689428925514,-0.0137197719886899,-0.0034752991050481796,0.03463592380285263,-0.00674454215914011,0.005854154471307993,0.0026521128602325916,-0.025063252076506615,-0.017723001539707184,0.006499601062387228,-0.006629081908613443,-0.0016784253530204296,0.005210843402892351,0.007647514808923006,-0.016152096912264824,-0.004742086865007877,-0.0327095091342926,-0.008106241934001446,-0.019689515233039856,-0.018005870282649994,-0.030006729066371918,-0.04768767207860947,0.02651185542345047,-0.014474477618932724,-0.01669795997440815,0.021954212337732315,-0.028667360544204712,-0.02660772018134594,0.008253369480371475,-0.031363945454359055,-0.01992068439722061,0.00013271851639728993,0.007051169406622648,-0.02730768360197544,-0.008299273438751698,-0.013514953665435314,0.005382695700973272,0.017910489812493324,0.013901997357606888,0.0027625374495983124,0.00757197942584753,0.04937892034649849,-0.015788516029715538,-0.00387571775354445,-0.022522129118442535,-0.030408475548028946,-0.0037351681385189295,0.0075474027544260025,0.015091663226485252,0.022488702088594437,0.01428598165512085,0.01286889985203743,-0.01835845410823822,-0.04354367405176163,-0.016164476051926613,0.017698833718895912,0.031333550810813904,-0.020992929115891457,-0.00013089529238641262,-0.012523885816335678,-0.03199252486228943,0.0017890710150822997,0.03139009326696396,0.03887203335762024,0.005888429470360279,0.0178957749158144,0.028635265305638313,0.028667651116847992,-0.01676771603524685,0.009602446109056473,-0.013359185308218002,0.025559868663549423,-0.005336019676178694,0.0015513469697907567,-0.014917836524546146,0.01660349778831005,0.0269709974527359,-0.02083185501396656,-0.032175928354263306,-0.04423634335398674,0.0031211632303893566,0.002501765266060829,-0.0006871983059681952,0.01745905913412571,-0.04323636740446091,-0.015574409626424313,-0.00853649340569973,-0.0005263533676043153,-0.0557798333466053,0.03326055407524109,-0.010268091224133968,-0.028802642598748207,-0.02814035676419735,0.001518014119938016,0.003093110164627433,-0.007686822675168514,0.0278319101780653,0.01023793127387762,0.004396816249936819,-0.1218722015619278,0.029217293485999107,-0.033664628863334656,-0.0055904509499669075,0.034654777497053146,-0.0021853118669241667,0.019510462880134583,-0.05229145288467407,-0.02431461028754711,-0.03531176596879959,0.0024945291224867105,-0.032374586910009384,0.020452672615647316,-0.03862285241484642,-0.0022855557035654783,-0.00869807880371809,-0.018970318138599396,0.021525871008634567,0.006939260754734278,0.01030056644231081,-0.02390933781862259,-0.06728445738554001,-0.035258132964372635,-0.06863238662481308,0.013264901004731655,0.042649783194065094,-0.029537305235862732,0.015546059235930443,0.0014171296497806907,0.02744453400373459,0.015634020790457726,-0.004077335819602013,-0.013797546736896038,0.06193399801850319,0.015849588438868523,0.019684795290231705,-0.03194958716630936,-0.04573919624090195,-0.004652620293200016,0.035043030977249146,0.03425366058945656,0.0006862463196739554,-0.06668578833341599,0.02145591378211975,-0.004695313982665539,-0.024142399430274963,-0.009505829773843288,-0.014536353759467602,0.024274760857224464,-0.021294215694069862,-0.08428267389535904,0.010539407841861248,0.03993432968854904,-0.03809516876935959,0.02666706033051014,0.019464071840047836,-0.005773467011749744,-0.01515340618789196,0.03480220213532448,0.022475268691778183,0.027255235239863396,0.05133237689733505,-0.03775104507803917,-0.03924756124615669,-0.02488783746957779,-0.007452559657394886,0.023770371451973915,0.004540874622762203,-0.015607173554599285,-0.016933951526880264,-0.017987530678510666,-0.026723094284534454,-0.012056305073201656,-0.029754072427749634,0.013981688767671585,-0.04132246598601341,0.03226691111922264,-0.030023524537682533,-0.027167487889528275,-0.02993783913552761,-0.00803045928478241,-0.01046920008957386,-0.028658762574195862,0.06136922165751457,0.045485176146030426,-0.011180326342582703,0.005489548668265343,0.003635701257735491,-0.010219570249319077,-0.01906142197549343,-0.04328906163573265,0.0313107892870903,-0.015538133680820465,0.03436321020126343,-0.011614177376031876,-0.02305230125784874,-0.006735986564308405,0.025322895497083664,0.0398869626224041,0.026142636314034462,0.004890057258307934,0.0381796732544899,0.023329593241214752,-0.0046071442775428295,0.018619650974869728,-0.027709484100341797,-0.012866348028182983,0.014443009160459042,-0.04191511124372482,-0.014376068487763405,0.02704012207686901,-0.04265403375029564,-0.0489857979118824,0.017018111422657967,-0.060543835163116455,-0.009074115194380283,-0.024900270625948906,-0.0011371991131454706,-0.0032744945492595434,-0.031776685267686844,0.0389099083840847,0.043610911816358566,-0.011637530289590359,-0.04696381464600563,0.028576567769050598,-0.030999626964330673,0.004652736242860556,-0.015222443267703056,0.040984246879816055,-0.0237574502825737,0.0360286571085453,-0.006481589749455452,-0.027395090088248253,-0.009633869864046574,0.005372348241508007,-0.010621055960655212,-0.007262952625751495,0.06940343230962753,-0.0033981832675635815,-0.02955344319343567,-0.011156504042446613,0.014653823338449001,0.017569901421666145,-0.037829045206308365,-0.038569625467061996,-0.023925259709358215,-0.02395450510084629,-0.014048503711819649,0.022711237892508507,-0.0064774188213050365,-0.0120735177770257,0.02030559629201889,0.02065027505159378,0.03192858025431633,-0.0022365781478583813,-0.0074913050048053265,0.010326527990400791,-0.0511506125330925,-0.029344893991947174,0.04976734519004822,0.04535236582159996,-0.019350843504071236,0.0004565795825328678,-0.01882276125252247,-0.01792714186012745,-0.008576681837439537,-0.036195315420627594,-0.02083129808306694,0.06507960706949234,0.03454962000250816,0.011100717820227146,0.04541502892971039,0.0038632997311651707,0.0476558655500412,0.01722090132534504,-0.045063406229019165,0.024323226884007454,0.033507656306028366,0.06474702060222626,0.012963409535586834,-0.03434909135103226,-0.04304135963320732,0.03899504989385605,-0.03192346915602684,0.00841428805142641,0.007190212141722441,0.036029040813446045,-0.0014918945962563157,-0.03550497069954872,0.005543480161577463,-0.02028472349047661,0.005821829196065664,0.012506402097642422,0.018572047352790833,-0.005192283075302839,-0.024495678022503853,0.012004724703729153,-0.04014214873313904,-0.015212565660476685,-0.003338783048093319,-0.03836445137858391,-0.043911732733249664,-0.015315832570195198,-0.019887838512659073,-0.0170225091278553,0.03068535216152668,-0.0030432508792728186,-0.01910245604813099,-0.014604907482862473,0.00814632698893547,-0.02103452757000923,0.014992088079452515,0.027998441830277443,0.04068726301193237,0.03753842040896416,-0.00002584887624834664,0.027372602373361588,0.020946664735674858,0.059849634766578674,0.0011696422006934881,0.01950005069375038,0.043421387672424316,-0.021243121474981308,-0.03424239903688431,0.035267602652311325,-0.03389967605471611,-0.0023446737322956324,0.0010421149199828506,-0.03805827349424362,-0.04539117217063904,0.0013310861540958285,0.003034984925761819,-0.012217960320413113,0.023123057559132576,0.01932426355779171,0.025907956063747406,-0.0007352175307460129,0.06356735527515411,-0.007737467996776104,0.023644717410206795,-0.019760804250836372,-0.01810409128665924,0.0105466702952981,0.0304123368114233]],"060790fafb1418088e58975fbf4492de":[1.000000385467379,[0.0059186723083257675,0.020057642832398415,-0.03464629873633385,0.025992371141910553,0.019677255302667618,0.012859530746936798,0.02067500725388527,0.03588519245386124,-0.002380566904321313,-0.018629057332873344,-0.01838175766170025,0.02265803888440132,-0.0013808337971568108,0.02974562533199787,0.0007249041809700429,-0.03282297030091286,-0.014994987286627293,-0.0063699837774038315,-0.011850319802761078,0.0005341694923117757,-0.03870770335197449,0.018920045346021652,0.023462586104869843,0.010439589619636536,-0.04695146903395653,0.07528282701969147,0.004157420247793198,-0.038048155605793,-0.037274785339832306,0.007078345399349928,0.00717436708509922,-0.00845782458782196,-0.037622082978487015,-0.025835420936346054,-0.0031178751960396767,-0.05351649224758148,-0.013150914572179317,-0.027527345344424248,-0.09791729599237442,-0.031140530481934547,0.004268724471330643,-0.017549075186252594,-0.025407034903764725,0.005925829987972975,-0.029669582843780518,0.002901738043874502,-0.02530774101614952,-0.06616323441267014,0.004374125972390175,-0.00296332617290318,-0.029404813423752785,0.012200826779007912,-0.01682695746421814,-0.03849067538976669,0.010967583395540714,0.05639243498444557,0.010477261617779732,0.010188003070652485,-0.01959414593875408,-0.027898889034986496,-0.008396178483963013,0.014871157705783844,-0.020419565960764885,-0.04801790416240692,-0.03800668567419052,0.007896983996033669,0.018055614084005356,0.03691786900162697,0.04731125757098198,-0.033156346529722214,-0.02535691298544407,0.011448530480265617,-0.03300983086228371,-0.06208648532629013,-0.01861116848886013,-0.012530846521258354,0.03240875527262688,-0.003157350467517972,-0.008408088237047195,-0.023211928084492683,0.11670734733343124,-0.00893388781696558,0.02566302940249443,0.002999524585902691,-0.0006175997550599277,0.00883235689252615,-0.01935572549700737,0.051994357258081436,-0.036537379026412964,0.012700464576482773,-0.0017302612541243434,0.03605685010552406,0.0008106321911327541,-0.04928182065486908,-0.0012261653319001198,-0.015456239692866802,0.012745358049869537,-0.02645263448357582,0.0005614059627987444,-0.042660560458898544,-0.06751208007335663,0.013050887733697891,0.012485872022807598,0.03181528300046921,-0.0019937457982450724,0.030281003564596176,0.007386645767837763,0.045099012553691864,-0.010102717205882072,0.013917066156864166,-0.031488820910453796,-0.0019840567838400602,0.012166150845587254,0.018537281081080437,0.0030213927384465933,-0.016407720744609833,-0.028625719249248505,-0.0023533774074167013,0.042508456856012344,0.001994145568460226,-0.023599999025464058,0.06679470837116241,0.0037779996637254953,0.010320395231246948,-0.015996914356946945,-0.023246370255947113,0.0004240865237079561,0.04757034033536911,-0.07909534871578217,-0.006079209502786398,0.02964063733816147,0.013904170133173466,0.046832554042339325,-0.005699372850358486,-0.0428583137691021,-0.015693265944719315,0.035996731370687485,0.03888658434152603,0.027346763759851456,-0.032423023134469986,0.031166017055511475,0.0121645238250494,-0.025300124660134315,-0.015159158036112785,0.029889967292547226,-0.021365249529480934,-0.00619708513841033,-0.00029255516710691154,-0.012772995047271252,0.044152263551950455,0.005286842118948698,-0.015202687121927738,0.011801323853433132,-0.04244345799088478,0.0035794763825833797,0.0016723325243219733,0.010372062213718891,-0.004650350660085678,0.025938618928194046,-0.0054140836000442505,0.025647183880209923,-0.009826933033764362,0.054062169045209885,0.02259933017194271,0.012081523425877094,0.0004987001302652061,-0.001468011294491589,0.0071432460099458694,-0.00047576887300238013,-0.01424575038254261,0.009159306064248085,-0.06006525456905365,0.038160279393196106,-0.006651586387306452,0.010349673219025135,0.047499801963567734,0.050744108855724335,0.02606027200818062,0.03765749931335449,-0.03493718057870865,-0.038607653230428696,0.026965541765093803,0.032079268246889114,-0.053587544709444046,0.03079579398036003,-0.0010417012963443995,0.009876728057861328,-0.005209424067288637,0.018340541049838066,0.035778921097517014,-0.05358424782752991,-0.028623566031455994,0.03304935246706009,0.022454695776104927,0.02576082944869995,-0.021486833691596985,-0.031176606193184853,-0.02661910280585289,0.03269929438829422,-0.03994971141219139,-0.01785779744386673,-0.013813849538564682,-0.03550953045487404,-0.014182363636791706,-0.031512100249528885,0.02809949964284897,-0.0238856989890337,-0.017994007095694542,0.021525569260120392,-0.000036905323213431984,0.044970814138650894,0.013622650876641273,-0.0001297320268349722,0.006787547841668129,0.00668245879933238,-0.021757522597908974,0.0008970434428192675,-0.01139927376061678,0.04131345450878143,-0.012362375855445862,-0.01877293549478054,0.013407525606453419,0.0008096090168692172,-0.01996571198105812,0.001153482124209404,0.015591365285217762,0.014327090233564377,0.04753825441002846,0.03331325575709343,0.013178283348679543,-0.04343776777386665,0.062089771032333374,-0.03896399587392807,-0.010632351972162724,-0.03282596915960312,0.021738026291131973,-0.06116298586130142,0.014371621422469616,0.057457663118839264,0.05388723686337471,0.0162764061242342,-0.036631882190704346,0.0003440920263528824,-0.024233896285295486,-0.06049283966422081,0.04411398246884346,0.015916207805275917,0.027519570663571358,-0.011797472834587097,-0.01442405954003334,-0.020334642380475998,-0.0075102006085217,0.015996240079402924,-0.03147084265947342,-0.014060896821320057,-0.032646309584379196,-0.01533697172999382,-0.039549920707941055,0.04117457568645477,-0.0026108126621693373,0.0055932654067873955,-0.038683921098709106,-0.0029364563524723053,0.03740820661187172,0.0045643276534974575,0.006365141831338406,0.0019412845140323043,-0.017358655110001564,0.003890243824571371,0.06349895894527435,-0.004263419657945633,0.013533283025026321,-0.023838477209210396,-0.00900785531848669,-0.014867641031742096,-0.03867175057530403,-0.003965684678405523,-0.03308028727769852,0.014049198478460312,-0.043806567788124084,0.016538992524147034,-0.007389219943434,-0.026888450607657433,-0.020977016538381577,0.002677617594599724,0.04451770707964897,-0.0073369829915463924,0.005639582872390747,0.01577112264931202,0.0045503354631364346,-0.002487591002136469,-0.009697728790342808,0.06335623562335968,-0.045243680477142334,0.01229182630777359,0.0387708954513073,-0.026867493987083435,-0.18118014931678772,-0.03132352605462074,-0.02323307655751705,0.011722351424396038,0.014788330532610416,0.002595774829387665,-0.0005405482952482998,0.00525382487103343,-0.022640103474259377,-0.03658334165811539,-0.018244866281747818,-0.1280129998922348,0.01064283773303032,0.0034031514078378677,0.03521985188126564,0.015415975823998451,0.026316309347748756,0.023606661707162857,0.005330048035830259,-0.0644432008266449,-0.008844608440995216,-0.025005146861076355,0.07013722509145737,0.05024990439414978,0.01044638454914093,-0.019496068358421326,0.03836844861507416,-0.00019837757281493396,-0.015402826480567455,-0.0038107491564005613,-0.03473886102437973,0.06726471334695816,-0.02626185491681099,-0.0401933528482914,0.054353900253772736,0.028277087956666946,-0.01393806841224432,-0.024966685101389885,-0.0071051716804504395,0.008996334858238697,0.03590341657400131,0.04445141553878784,-0.0051281508058309555,-0.013610757887363434,0.022383499890565872,-0.023624107241630554,-0.030479373410344124,0.006685977801680565,-0.006373574957251549,0.02210080437362194,-0.014204507693648338,0.03164442628622055,-0.01649615727365017,0.012535310350358486,0.00032943987753242254,0.04240753874182701,-0.02039836347103119,0.030259886756539345,0.020958784967660904,0.03501829877495766,-0.02527782693505287,-0.02926480956375599,-0.08848269283771515,-0.01783699356019497,0.028840983286499977,0.0106732789427042,-0.020532334223389626,-0.0011047612642869353,0.014947515912353992,-0.007950803264975548,-0.004939576145261526,-0.021526984870433807,-0.016682228073477745,-0.03379465639591217,0.014961978420615196,0.007719201967120171,-0.014814608730375767,-0.02646174468100071,-0.0008900696411728859,-0.07659734785556793,0.02236081101000309,-0.006625948939472437,-0.0070199077017605305,0.006243910640478134,-0.010102967731654644,0.015234786085784435,-0.022521404549479485,-0.035479217767715454,0.024734780192375183,0.359768807888031,-0.03074074350297451,-0.012201265431940556,0.01846425049006939,0.009403590112924576,0.003797040320932865,-0.005306038074195385,-0.016738073900341988,0.01710747368633747,0.003066771663725376,-0.0034019688609987497,-0.0043375613167881966,0.032252468168735504,0.041585054248571396,0.059809379279613495,0.031026499345898628,-0.03324747458100319,-0.01062055490911007,-0.019908517599105835,-0.030013492330908775,0.01887103170156479,-0.039753176271915436,0.015645019710063934,-0.006623918190598488,-0.048752833157777786,0.030116330832242966,0.005281517747789621,-0.033462055027484894,-0.03728188946843147,0.034790169447660446,-0.02396729402244091,0.012354428879916668,-0.02677733264863491,-0.018072806298732758,0.018300043419003487,-0.025831259787082672,-0.06047040969133377,-0.05947696790099144,-0.015373055823147297,-0.026974473148584366,0.01589239574968815,-0.02221398986876011,-0.008436383679509163,-0.014291966333985329,-0.052346330136060715,-0.009558347053825855,-0.02005189284682274,0.018542906269431114,-0.0014769925037398934,-0.03601336106657982,0.023873040452599525,-0.01848388835787773,-0.009106080047786236,0.0029958162922412157,-0.01647643744945526,-0.013528920710086823,-0.013327343389391899,0.0042751808650791645,-0.04919864609837532,-0.0024593230336904526,0.03567560389637947,0.014605213887989521,-0.05753311514854431,0.054584767669439316,0.04401340335607529,0.0006331866607069969,-0.0043398053385317326,-0.029727332293987274,-0.03230280056595802,0.011287803761661053,0.039466094225645065,0.01940101571381092,0.03703863173723221,-0.010423436760902405,0.0012205563252791762,-0.023941464722156525,0.01197781041264534,0.00755388755351305,0.034338779747486115,0.022077511996030807,-0.031207475811243057,-0.0038769752718508244,0.03551974147558212,0.02799951657652855,0.019472986459732056,0.03441840410232544,-0.03032860904932022,0.03639925643801689,0.019136006012558937,-0.030817678198218346,-0.0022669073659926653,-0.00842730887234211,-0.0350249782204628,-0.014448678120970726,0.02030072920024395,-0.023192469030618668,0.013598695397377014,-0.028991665691137314,0.028615770861506462,0.003634439781308174,0.021194875240325928,0.03387186676263809,0.022049620747566223,0.014557970687747002,0.006026449613273144,-0.0007145949639379978,-0.0037061634939163923,-0.042228005826473236,0.0076047093607485294,0.010545812547206879,-0.033114999532699585,0.017949750646948814,-0.0011860938975587487,0.0009131717379204929,0.08915741741657257,0.034359756857156754,-0.0034072434064000845,0.04762968420982361,-0.0023617667611688375,0.07095111906528473,-0.03449366241693497,-0.03190607205033302,0.018217362463474274,0.0074949804693460464,-0.021775759756565094,-0.07217101752758026,0.025381524115800858,-0.01535555999726057,-0.0029219756834208965,0.008482943288981915,0.00025669822935014963,0.030813006684184074,-0.03667986020445824,-0.03303595632314682,-0.010641706176102161,-0.06443487852811813,0.0441015399992466,0.009415051899850368,-0.016185212880373,0.02962150238454342,0.017005976289510727,-0.016476282849907875,-0.004626825917512178,0.034753184765577316,-0.00542847765609622,0.009543437510728836,-0.0053508407436311245,-0.0037022351752966642,-0.026879405602812767,0.004738952033221722,0.012067270465195179,0.03170417621731758,0.011903113685548306,-0.02670939452946186,0.00863618403673172,-0.007248396053910255,0.027598585933446884,-0.023562608286738396,-0.035234104841947556,-0.042979106307029724,-0.002071021357551217,0.02621924877166748,0.001434434438124299,0.057399407029151917,-0.02070816420018673,0.04192381724715233,0.028223274275660515,0.022809484973549843,-0.022087642922997475,0.005598854273557663,0.00429183105006814,-0.0709935799241066,0.023844651877880096,0.023652879521250725,0.05159452557563782,-0.02826681174337864,-0.012725507840514183,0.02193719521164894,-0.005208962131291628,-0.015537304803729057,0.033063750714063644,0.024432746693491936,-0.03196068853139877,0.03759104758501053,-0.03605913370847702,-0.015269589610397816,0.014452211558818817,0.023055149242281914,0.010267805308103561,-0.06222522258758545,0.0243154875934124,0.05867426097393036,-0.01255548931658268,-0.00166229996830225,-0.010031037963926792,0.007664763834327459,-0.031148239970207214,0.023597178980708122,-0.011531198397278786,0.009513599798083305,0.037430860102176666,0.00969940610229969,0.012702436186373234,0.02063901349902153,0.016840636730194092,-0.019639218226075172,0.0013345992192626,0.034719157963991165,0.015827232971787453,-0.039180271327495575,0.02505837008357048,0.03374844044446945,0.001432589371688664,-0.018587976694107056,0.009353775531053543,-0.03905444219708443,0.053816039115190506,0.03470531105995178,0.00412175664678216,0.011336992494761944,-0.05659053102135658,-0.028742417693138123,0.01312968973070383,-0.02716437727212906,-0.02724025584757328,0.01168791763484478,0.00686999736353755,-0.03284284844994545,-0.056837595999240875,-0.03472999855875969,-0.021059619262814522,-0.029579665511846542,-0.007485831622034311,-0.015022906474769115,0.01053928304463625,0.007319605443626642,0.010844703763723373,-0.0020380315836519003,0.005987162701785564,0.021580711007118225,-0.018473463132977486,0.010750154964625835,0.026019899174571037,0.049461543560028076,0.015250086784362793,0.016600094735622406,-0.028994416818022728,0.03618468716740608,-0.004013414029031992,-0.016932915896177292,0.006277881097048521,-0.02106427773833275,-0.0735989362001419,-0.047153864055871964,-0.0020973614882677794,0.015683230012655258,-0.0006642973166890442,-0.015357299707829952,-0.02426004409790039,0.03337612748146057,0.019448840990662575,-0.0014553155051544309,-0.016789378598332405,-0.0068972171284258366,-0.012035228312015533,0.006305392365902662,0.0021958702709525824,-0.0515342578291893,-0.008109740912914276,-0.015286610461771488,0.018634367734193802,-0.0142201017588377,-0.01875740848481655,-0.03628256171941757,-0.002134123118594289,-0.01640678197145462,0.02985827997326851,-0.04879285395145416,0.00983981229364872,-0.007706262171268463,-0.10304117202758789,-0.011156780645251274,-0.02306891791522503,-0.00581488898023963,0.007436142768710852,-0.020664583891630173,-0.04672158136963844,0.012274174019694328,-0.014006289653480053,0.0182866882532835,0.01194020640105009,-0.022927992045879364,-0.051539257168769836,0.01699412800371647,0.010536978021264076,0.05199464038014412,-0.009910461492836475,0.04695196449756622,0.01952654868364334,-0.010983928106725216,-0.007815268822014332,-0.015002883039414883,-0.012729518115520477,-0.010008525103330612,-0.0138819245621562,0.05109941214323044,0.012135864235460758,0.010646515525877476,-0.0007870643166825175,-0.01785367913544178,0.0408797413110733,-0.04473453760147095,-0.035919271409511566,-0.023450125008821487,-0.02403970994055271,-0.01871468499302864,-0.038490112870931625,0.022866565734148026,-0.016637185588479042,-0.029126156121492386,0.018380533903837204,-0.001210796064697206,-0.0042328424751758575,0.02457107976078987,-0.056959040462970734,0.00908835418522358,-0.011372104287147522,0.00362494052387774,-0.0029458925127983093,-0.018177952617406845,-0.03864127770066261,-0.0015589947579428554,0.041367847472429276,0.0004400682228151709,-0.011857552453875542,0.00063634681282565,0.08050577342510223,-0.00040705842548049986,-0.010274525731801987,-0.021624453365802765,0.005530571099370718,0.02183694578707218,0.009579134173691273,0.046956732869148254,0.04081776738166809,0.058675531297922134,-0.009667929261922836,-0.003574082162231207,-0.027696002274751663,-0.032351307570934296,0.0058827949687838554,0.012355194427073002,-0.014351869933307171,0.03230753540992737,-0.006212304811924696,-0.03419051319360733,-0.0007484035450033844,0.020250331610441208,0.040632881224155426,-0.006043413653969765,0.019900741055607796,0.048631273210048676,0.04429595172405243,-0.002063458552584052,-0.007877599447965622,0.004892787896096706,0.02543865144252777,-0.00803408119827509,-0.006268585566431284,-0.0376364104449749,0.011913187801837921,0.009188114665448666,-0.015160215087234974,-0.014380725100636482,-0.034989818930625916,-0.006377203390002251,0.027294499799609184,-0.016646388918161392,0.015957383438944817,-0.03875046223402023,-0.01840299367904663,0.011324109509587288,0.03648180887103081,-0.022513272240757942,-0.0070901173166930676,-0.005764511413872242,-0.017713667824864388,-0.03362999111413956,-0.004700516816228628,0.04029177129268646,0.0014381021028384566,0.002082561608403921,-0.007412815000861883,0.016853606328368187,-0.12952814996242523,0.01909669116139412,0.0006170002743601799,-0.019307943060994148,0.00610657874494791,0.020375831052660942,-0.01527359802275896,0.013036048971116543,0.013695270754396915,-0.03252411261200905,0.07460916042327881,-0.05088342726230621,0.027028463780879974,-0.010071910917758942,0.033181823790073395,0.019925426691770554,-0.030052712187170982,0.03174864128232002,0.027120765298604965,0.03908959776163101,0.005029000341892242,-0.0531671941280365,-0.03949481621384621,-0.042113278061151505,0.013624666258692741,0.05082542449235916,-0.007226991467177868,0.015118065290153027,-0.011249354109168053,0.007256343029439449,-0.013135488145053387,-0.006637009792029858,-0.004860420245677233,0.054862793534994125,0.0075409929268062115,0.016314703971147537,-0.035489439964294434,-0.03663945570588112,0.007972946390509605,0.04869789630174637,0.03445441648364067,-0.012664437294006348,-0.04704909771680832,-0.021156959235668182,0.008346009999513626,-0.012219172902405262,-0.02523813396692276,-0.022003285586833954,-0.004537624306976795,-0.02094755508005619,-0.042697176337242126,-0.00891625415533781,0.05053643509745598,0.008771158754825592,0.027167225256562233,0.027604494243860245,0.0009494969272054732,0.005975540727376938,0.0362510047852993,0.04464458301663399,-0.01583252102136612,0.01982063427567482,-0.010866394266486168,-0.0034080124460160732,0.0018675478640943766,-0.019520064815878868,-0.003957998938858509,-0.01737729087471962,-0.013860838487744331,-0.026377858594059944,0.014425396919250488,-0.048251550644636154,-0.019692732021212578,-0.03706847503781319,0.014017045497894287,-0.019061721861362457,0.03230782970786095,0.005075917113572359,-0.0052956631407141685,-0.03369936719536781,-0.023421505466103554,-0.020941827446222305,-0.01275466475635767,0.04798869043588638,0.008357850834727287,-0.005769557785242796,0.009581822901964188,0.009569223038852215,-0.03778054565191269,-0.05168075114488602,-0.023118792101740837,0.05188637971878052,-0.01526754628866911,0.030783114954829216,-0.008357161656022072,0.019075477495789528,0.013507555238902569,0.022935720160603523,0.004441836848855019,-0.030526088550686836,0.023797975853085518,0.035226449370384216,-0.02463606186211109,-0.007438540458679199,0.007438234053552151,-0.010297476314008236,0.0022277955431491137,0.009206714108586311,-0.023936927318572998,-0.005866112187504768,0.0049217683263123035,-0.05335639417171478,-0.03953644633293152,-0.0041067772544920444,-0.04605870321393013,0.015136809088289738,0.004303572699427605,0.03911641985177994,-0.003139869077131152,0.009623676538467407,0.017332393676042557,0.04057930037379265,-0.006683151703327894,-0.06418652832508087,-0.010691214352846146,0.0016076788306236267,-0.03242511302232742,0.012826630845665932,0.027075452730059624,-0.009797876700758934,0.034863900393247604,-0.0008566172327846289,-0.03864895924925804,0.03020879253745079,-0.02280120551586151,-0.006732574664056301,-0.021701455116271973,0.0850982517004013,0.006159722339361906,-0.03886285424232483,-0.03616061806678772,0.0470796599984169,-0.0024052541702985764,-0.059731315821409225,-0.04115397855639458,-0.020103733986616135,0.001492546871304512,-0.02352752909064293,-0.005328211467713118,0.026107408106327057,0.011613501235842705,0.03619742766022682,0.022050578147172928,0.022284943610429764,0.012179483659565449,0.0022395451087504625,-0.011964994482696056,-0.047950491309165955,0.0034473463892936707,0.034930311143398285,0.0047159502282738686,-0.015185587108135223,-0.026455340906977654,-0.019347550347447395,-0.0034070180263370275,-0.003215893404558301,-0.021245963871479034,-0.028094962239265442,0.030429882928729057,-0.044849105179309845,-0.003087725955992937,0.017057228833436966,-0.0121140843257308,0.06001293659210205,0.03230994567275047,-0.027840888127684593,0.02979249134659767,0.0056588491424918175,0.037413645535707474,-0.014540386386215687,0.0008313787402585149,-0.03488824889063835,0.04039713367819786,-0.01393312867730856,0.029236072674393654,-0.024233011528849602,0.03291604667901993,-0.004345727153122425,-0.007754659280180931,0.002672863658517599,0.008513436652719975,0.05091997608542442,0.03883932903409004,-0.0023730862885713577,0.012899626977741718,-0.034892406314611435,0.014026757329702377,-0.019001083448529243,-0.010087339207530022,0.005520128179341555,-0.06677398085594177,-0.026660967618227005,-0.006381835322827101,-0.013270272873342037,-0.01019754447042942,0.0031467152293771505,-0.003560352372005582,0.0004373910778667778,-0.025062289088964462,-0.013677665032446384,-0.005448543466627598,0.02995561622083187,0.046374108642339706,0.026617037132382393,0.030249709263443947,0.008151340298354626,0.014415201731026173,0.011434764601290226,0.04409489408135414,0.03766225650906563,0.003864545375108719,0.0375794917345047,-0.0011949995532631874,-0.029443491250276566,0.03750509023666382,-0.03329114615917206,-0.044512875378131866,-0.007384365890175104,-0.009749886579811573,-0.0010721124708652496,0.0002651853719726205,0.013470890931785107,-0.01285859476774931,0.06377986818552017,-0.0038469135761260986,0.030266495421528816,0.00883315410465002,0.049733031541109085,-0.031563933938741684,-0.018903817981481552,-0.0044376058503985405,-0.003563686041161418,0.0009032649686560035,0.018011964857578278]]}}}},"docs":{"docs":{"1":{"title":"过期删除策略","path":"redis/过期删除策略.md","embeddingModel":"bge-m3","ctime":1745938517337,"mtime":1746088574718,"tags":[],"extension":"md","metadata":{"created":"2025/04/29 22:55:17","modified":"2025/05/01 16:36:14"},"id":"3bc28948358908d3d01d2ca76befd446","content":"\n\nNOTE TITLE: [[过期删除策略]]\n\nMETADATA:{\"created\":\"2025/04/29 22:55:17\",\"modified\":\"2025/05/01 16:36:14\"}\n\nNOTE BLOCK CONTENT:\n\nRedis 可以对 key 设置过期时间的，因此需要有相应的机制将已过期的键值对删除，而做这个工作的就是 **过期键值删除策略**\n\n## 如何设置过期时间\n\n设置 key 过期时间的命令一共有 4 个：\n\n1. expire \\<key\\> \\<n\\>：设置 key 在 n 秒后过期\n2. pexpire \\<key\\> \\<n\\>：设置 key 在 n 毫秒后过期\n3. expireat \\<key\\> \\<n\\>：设置 key 在某个秒时间戳之后过期\n4. pexpireat \\<key\\> \\<n\\>：设置 key 在某个毫秒时间戳之后过期\n\n在设置字符串时，也可以同时对 key 设置过期时间，共有 3 种命令：\n\n1. set \\<key\\> \\<value\\> ex \\<n\\>：设置键值对的时候，同时指定过期时间（精确到秒）\n2. set \\<key\\> \\<value\\> px \\<n\\>：设置键值对的时候，同时指定过期时间（精确到毫秒）\n3. setex \\<key\\> \\<n\\> \\<value\\>：设置键值对的时候，同时指定过期时间（精确到秒）\n\n使用 TTL \\<key\\> 命令查看某个 key 剩余的存活时间\n\n如果突然反悔，取消 key 的过期时间，则可以使用 PERSIST \\<key\\> 命令\n\n## 如何判定 key 已过期\n\n对一个 key 设置了过期时间时，Redis 会把该 key 带上过期时间存储到一个 **过期字典 (expires dict)** 中，过期字典存储在 redisDb 结构中，如下：\n\n```C\ntypedef struct redisDb {\n\tdict *dict; // 数据库键空间，存放着所有的键值对\n\tdict *expires; // 键的过期时间\n\t...\n} redisDb;\n```\n\n当查询一个 key 时，Redis 首先检查该 key 是否存在于过期字典中：\n\n1. 如果不在，则正常读取键值对\n2. 如果存在，则会获取该 key 的过期时间，然后与当前系统时间进行对比，如果比系统时间大，那就没有过期，否则判定该 key 已过期\n\n## 过期删除策略\n\n1. [定时删除](#定时删除)\n2. [惰性删除](#惰性删除)\n3. [定期删除](#定期删除)\n\n## 定时删除\n\n### 做法\n\n在设置 key 的过期时间时，同时创建一个定时事件，当时间到达时，由事件处理器自动执行 key 的删除操作\n\n### 优点\n\n可以保证过期 key 会被尽快删除，也就是内存可以被尽快地释放。因此，定时删除对内存是最友好的\n\n### 缺点\n\n在过期 key 比较多的情况下，删除过期 key 可能会占用相当一部分 CPU 时间，在内存不紧张但 CPU 时间紧张的情况下，将 CPU 时间用于删除和当前任务无关的过期键上，会对服务器的响应时间和吞吐量造成影响。所以，定时删除策略对 CPU 不友好\n\n## 惰性删除\n\n### 做法\n\n不主动删除过期键，每次从数据库访问 key 时，都检测 key 是否过期，如果过期则删除该 key\n\n### 优点\n\n因为每次访问时，才会检查 key 是否过期，所以此策略只会使用很少的系统资源。因此，惰性删除策略对 CPU 时间最友好\n\n### 缺点\n\n如果一个 key 已过期，而这个 key 又仍然保留在数据库中，那么只要这个过期 key 一直没有被访问，它占用的内存就不会释放，造成了一定的内存空间浪费。所以，惰性删除策略对内存不友好\n\n## 定期删除策略\n\n### 做法\n\n每隔一段时间 **随机** 从数据库中取出一定数量的 key 进行检查，并删除其中过期的 key\n\n### 优点\n\n通过限制删除操作执行的时长和频率，来减少删除操作对 CPU 的影响，同时也能删除一部分过期的数据减少了过期键对空间的无效占用\n\n### 缺点\n\n1. 内存清理方面没有定时删除效果好，同时没有惰性删除使用的系统资源少\n2. 难以确定删除操作执行的时长和频率。如果执行得太频繁，定期删除策略变得和定时删除策略一样，对 CPU 不友好；如果执行得太少，又变得跟惰性删除一样，过期 key 占用的内存不会及时得到释放\n\n## Redis 过期删除策略\n\nRedis 选择 [惰性删除](#惰性删除) + [定期删除](#定期删除) 两种策略配合使用，以求在合理使用 CPU 时间和避免内存浪费之间取得平衡\n\n### Redis 怎么实现惰性删除\n\nRedis 的惰性删除策略由 db.c 文件中的 expireIfNeeded 函数实现\n\n```C\nint expireIfNeeded(redisDb *db, robj *obj) {\n\t// 判断 key 是否过期\n\tif (!keyIsExpired(db, key)) return 0;\n\t...\n\t// 删除过期键\n\t...\n\t// 如果 server.lazyfree_lazy_expire 为 1 表示异步删除，反之同步删除\n\treturn server.lazyfree_lazy_expire ? dbAsyncDelete(db, key) : dbSyncDelete(db, key);\n}\n```\n\nRedis 在访问或修改 key 之前，都会调用 expireIfNeeded 函数对其进行检查，检查 key 是否过期：\n\n1. 如果过期，则删除该 key，根据 lazyfree_lazy_expire 参数决定选择异步删除还是同步删除\n2. 如果没有过期，不做任何处理，返回正常的键值对给客户端\n\n### Redis 怎么实现定期删除\n\n1. 间隔检查的时间多长？\n\t在 Redis 中，默认每秒进行 10 次过期检查一次数据库，此配置可通过 Redis 配置文件 redis.conf 进行配置，配置键为 **hz**，默认值是 hz 10。每次检查数据库并不是遍历过期字典中的所有 key，而是从数据库中随机抽取一定数量的 key 做过期检查\n2. 随机抽查的数量是多少\n\t固定值，由 **ACTIVE_EXPIRE_CYCLE_LOOKUPS_PER_LOOP** 定义，数值是 20\n\n#### 流程\n\n1. 从过期字典中随机抽取 20 个 key\n2. 检查这 20 个 key 是否过期，并删除已过期的 key\n3. 如果本轮检查的已过期 key 的数量超过 5 个 (20 \\/ 4)，也就是 **已过期 key 的数量** 占比 **随机抽取 key 的数量** 大于 25%，则继续重复步骤 1；如果已过期的 key 比例小于 25%，则停止继续删除过期 key，然后等待下一轮再检查\n\n为了保证定期删除不会出现循环过度，导致线程卡死现象，增加了定期删除循环流程的时间上限，默认不会超过 **25 ms**\n\n## Redis 持久化时，对过期键怎么处理\n\nRedis 持久化文件有两种格式：[[持久化#RDB 快照]](Redis Database) 和 [[持久化#AOF 日志]](Append Only File)\n\n### RDB\n\n分为两个阶段，RDB 文件生成阶段和加载阶段\n\n#### RDB 文件生成阶段\n\n从内存状态持久化成 RDB 文件时，会对 key 做过期检查，过期的键不会被保存到新的 RDB 文件中，因此 Redis 中的过期键不会对生成新的 RDB 文件产生任何影响\n\n#### RDB 加载阶段\n\n1. 如果 Redis 是 **主服务器** 运行模式，在载入 RDB 文件时，会对文件中保存的键进行检查，过期键不会被载入数据库中。所以过期键不会对载入 RDB 文件的主服务器造成影响\n2. 如果 Redis 是 **从服务器** 运行模式，在载入 RDB 文件时，无论键是否过期都会被载入数据库。但由于主从服务器在进行数据同步时，从服务器的数据会被清空。所以一般来说，过期键对载入 RDB 文件的从服务器也不会造成影响\n\n### AOF\n\n分为两个阶段，AOF 文件写入阶段和 AOF 重写阶段\n\n#### AOF 文件写入阶段\n\n当 Redis 以 AOF 模式持久化时，如果数据库某个过期键还没被删除，那么 AOF 文件会保留此过期键，当此过期键被删除后，Redis 会向 AOF 文件追加一条 DEL 命令来显式地删除该键值\n\n#### AOF 重写阶段\n\n执行 AOF 重写时，会对 Redis 中的键值对进行检查，已过期的键不会被保存到重写后的 AOF 文件中，因此不会对 AOF 重写造成任何影响\n\n## Redis [主从模式](主从架构)中，对过期键会怎么处理\n\n当 Redis 运行在主从模式下时，从库不会进行过期扫描，从库对过期的处理是被动的，即使从库中的 key 过期了，如果有客户端访问从库，仍然可以得到 key 对应的值，像未过期的键值对一样返回。从库的过期键处理依靠主库控制，主库在 key 到期时，会在 AOF 文件里添加一条 del 命令，同步到所有从库，从库通过执行这条 del 指令来删除过期的 key","embedding":[0.011486344,0.023323322,-0.032537624,0.0084834555,-0.0033457875,0.0026377523,0.060698453,0.047521673,-0.024645256,-0.010254547,-0.01699388,0.011856388,-0.01673773,0.020010008,0.013413436,-0.03474574,-0.026793284,-0.004537485,-0.017271014,-0.0013338762,-0.023290617,0.01555823,0.02566285,0.006509536,-0.020816516,0.0720671,-0.017711587,-0.022217507,0.0027520186,0.0039035259,0.0044004642,0.0053220633,0.0023598988,-0.009354324,-0.0110055655,-0.013621726,-0.023939226,-0.01835299,-0.11999135,-0.003871907,0.021898454,0.012103332,-0.04220558,0.012698414,0.0037921113,0.016868066,-0.025066683,-0.07303543,0.007322801,-0.008644253,-0.019745085,0.005150954,0.011645093,-0.033782396,0.011844816,0.031396195,-0.0030789378,-0.024754548,-0.010134776,-0.036845587,0.004943902,0.003041159,-0.035457775,-0.022492526,-0.036467873,0.023113703,0.015960138,0.029075414,0.035723753,-0.02329229,-0.0063917376,-0.0026083104,-0.027272344,-0.06370258,-0.001649682,0.013903898,0.021377848,0.015359339,0.004063203,-0.046580236,0.12743612,-0.02784168,0.020841237,-0.027743258,-0.043686066,-0.006191335,-0.0033711188,0.059492454,-0.012596038,0.026447628,-0.014591266,0.042973585,0.002076511,-0.055673316,-0.00015635157,0.00068359176,0.014795755,-0.03950279,0.02377083,-0.014532177,-0.027877986,-0.044480395,0.0062917173,0.058335092,0.017607842,0.0022610635,0.019333206,0.026970351,-0.006123708,0.015526737,-0.046045233,-0.021714855,-0.0374184,-0.017195804,0.0018688703,-0.029061142,-0.025915937,0.001164345,0.013413981,0.00591042,0.0109280925,0.05817167,-0.0035731366,-0.010024463,0.014777979,0.021125462,0.0015918318,0.057576265,-0.040117834,-0.0086099645,0.02092957,0.03307012,0.035137296,-0.010549833,-0.04674517,-0.008651588,0.052222848,0.051700186,0.026054926,-0.02460147,0.024702003,0.009147483,-0.022781432,-0.003106812,0.06439586,-0.02464316,0.0056599053,-0.018026497,-0.023206037,0.053340383,-0.008766058,-0.048736725,-0.021120252,0.0025901347,0.024408752,0.0076633343,0.017269863,0.02278264,0.025736766,-0.042218518,0.022749366,-0.028830344,0.019429283,0.032436173,0.017295992,0.026493853,0.026455812,0.0052781585,0.019493073,0.0016268182,-0.007555983,-0.083567746,0.041864987,-0.0054818415,0.030164288,0.05602122,0.04219298,0.047695234,0.06694644,-0.044712793,0.011701119,0.029182982,0.026000995,-0.045535766,0.052206323,-0.0049390807,0.023240432,0.017842676,0.0145648355,0.051484164,-0.00069295504,-0.019476837,0.040012382,0.023708055,0.00895752,0.017194573,-0.010709427,0.002497045,0.050571434,-0.04020141,-0.042172972,0.029582618,-0.03486241,-0.008567666,-0.005221466,0.010649175,-0.038031377,-0.06012923,0.016481217,0.02587068,0.049377143,0.0053670313,0.009176017,0.014324302,-0.0069304663,0.011713324,0.0051658847,-0.031254333,0.0026882277,-0.020331368,-0.0034635498,-0.01640097,0.018887963,-0.027344089,0.0026373195,0.016497916,0.0051033827,0.03000452,0.02796802,0.030564243,-0.04937389,0.09365396,-0.03221905,-0.025117513,0.015075014,0.025414744,-0.038407084,0.031035036,0.026915696,0.035781033,-0.00052378693,-0.047008958,0.0041516116,-0.0116716,-0.06152525,0.04057454,0.004130448,0.028487708,-0.042014536,0.02034837,-0.038054332,-0.022697339,-0.0043056104,0.0003351587,0.0075772884,-0.04215001,-0.015863746,-0.034067627,0.025326934,0.010162371,0.018230537,-0.026281979,0.0074511217,0.03917228,0.018972563,0.014618905,-0.0070496704,-0.011458132,0.0059090205,0.07215148,-0.024181139,0.017625472,-0.033761024,-0.014215539,-0.0016833162,-0.024447028,-0.0042176577,-0.035845973,0.03594266,-0.040376328,0.007684179,-0.038898278,-0.013574608,-0.015393356,-0.008494988,0.025696596,0.023152279,0.006455976,0.040318184,-0.01614936,0.0024211474,-0.022268776,0.080468506,-0.037802644,0.021513825,-0.00006443593,-0.01972088,-0.16696104,-0.05877712,0.046451643,0.00635963,0.009771296,-0.006356575,0.0036279752,-0.012594913,-0.018580917,-0.06026578,-0.022885907,-0.14643593,-0.010008054,-0.048067827,0.0139546385,0.010294649,0.051054556,0.024009986,0.00086904335,-0.06951219,0.020209128,0.026699563,0.057657488,0.047926124,-0.0018877876,0.006793096,0.043244798,0.038109533,-0.024364749,-0.0045558554,-0.022220613,0.024860712,-0.032765545,-0.03585896,0.01480216,0.013275509,0.007975034,0.009774904,0.0044541354,0.014982318,0.03206417,0.033012345,-0.0069698556,-0.07104343,0.047509216,-0.0068017086,0.0368863,-0.005129163,-0.009108905,0.031744774,0.016441619,0.018900098,0.03999522,0.008524478,-0.0062044705,0.020639779,0.016841128,0.054038856,0.0086893,0.033402596,-0.017444663,-0.043834835,-0.032142583,-0.012967117,0.006539664,-0.005565284,-0.007961444,-0.00036773118,-0.017150488,-0.055779133,0.008536256,-0.017968476,-0.04189358,-0.0037865427,-0.0128306355,-0.008739214,0.003491526,-0.045389038,-0.0016551791,-0.088675976,0.034981545,0.009511216,-0.017247483,0.025179096,0.011910601,0.014561449,-0.04605915,-0.029036174,0.033784863,0.34153387,-0.025912011,-0.030234447,0.008468537,0.03811845,0.012127378,0.00901959,0.007083961,0.002918209,-0.009820436,-0.004172104,0.014654262,0.034952443,0.03534741,0.021197924,0.05457518,-0.019135699,0.031027878,-0.0072709173,-0.010680984,0.048481803,-0.02851887,0.003981758,0.00039777518,-0.05514727,0.04065437,0.021577865,-0.0129979085,-0.031436834,0.0077338666,-0.0077120885,-0.0059024454,-0.041995108,-0.046135366,-0.012350895,-0.0012386731,-0.065308146,-0.0613191,-0.015155888,-0.018023128,0.01686591,-0.030758977,0.0023751205,0.01009582,-0.030362533,-0.02511501,0.011632466,0.004859189,-0.0012231293,-0.032245673,0.0030334175,-0.019642215,-0.017410418,0.0051955427,-0.0015756245,-0.015633231,-0.022634499,0.008451259,-0.0520685,0.015917953,0.009952769,0.036384664,-0.053098198,0.022430267,0.048170812,-0.0032800701,-0.019248854,-0.015546649,-0.02070135,0.01455644,0.048118662,0.034111075,0.05317438,-0.022692112,-0.013341896,0.006326111,-0.0041605732,0.019779949,0.01807755,0.01881483,-0.005449144,0.0014484077,0.02956939,0.023430118,0.0052205436,0.023854611,-0.051602133,0.041649655,-0.0054824487,-0.033022657,-0.015392834,-0.014653601,-0.0022482108,-0.021337373,0.023215143,-0.00915182,0.024146423,-0.04779419,0.006486376,-0.014376004,0.03424274,0.06885852,0.014111785,-0.017316427,0.017920109,-0.040665228,0.023040999,-0.053266738,-0.04288673,-0.013646907,-0.04324348,0.0028346828,-0.00831688,0.0014995246,0.044558972,0.0057616783,0.015876893,0.028379861,0.010386099,0.03351621,-0.0024871742,-0.048504073,0.043272417,-0.0030681395,-0.015135022,-0.0783122,-0.00049300445,-0.04917564,0.016327355,-0.0038283172,0.019034514,0.035024118,-0.005333469,-0.0059653777,-0.032488696,-0.025181286,0.023731977,-0.008544398,-0.032090213,0.047683273,0.036836814,-0.016809888,0.0013784615,0.03178344,-0.024510747,0.005470654,-0.005947023,-0.0030775482,-0.028222319,-0.00867563,0.002848906,-0.0008558028,0.037201095,-0.0401088,0.02088356,0.0026025032,0.0090066455,-0.006441064,-0.010270518,-0.035632588,-0.019983137,0.016812393,0.020988883,0.075858995,0.015409188,0.0066873403,0.046429507,0.032660324,-0.015700143,0.011170685,-0.0034720476,-0.031686243,0.024632784,-0.00567842,0.020778537,-0.04026516,-0.017830065,0.036614697,0.0055590654,-0.027824892,0.03718589,0.020317003,-0.01207905,-0.0023368536,-0.044583403,0.00022313703,-0.012049209,0.01568416,-0.0014187966,-0.03222933,-0.004383223,0.05237944,0.0151115,-0.0069467933,0.004545326,-0.011581173,-0.0060414425,0.020403128,-0.004809346,-0.019046335,0.020274715,0.028359257,0.0032033043,0.031601634,0.02047156,-0.02846786,0.033982955,0.030256083,0.021823226,-0.016607929,-0.005214923,-0.00775431,0.013366477,-0.010485552,-0.005560425,-0.039682608,0.05760587,0.028735885,0.035158552,-0.019492041,-0.04574471,-0.04244797,0.0074669346,-0.04276936,-0.036688067,0.030908823,-0.001237031,-0.007856494,-0.028520865,-0.025587332,-0.016909694,0.004210875,-0.004557961,-0.029917344,-0.0019174162,0.006250151,0.011783461,0.006162216,0.03740235,0.024435459,0.011602593,-0.0076954872,0.006564247,0.0016532808,-0.0046992875,0.026584795,-0.052813534,0.02722984,-0.016403405,-0.0155864535,-0.0002782385,-0.018201442,-0.07116781,-0.03733326,0.03599796,0.05514775,-0.0021584427,-0.047192708,-0.015935853,0.0047707437,-0.0020016956,0.031202067,0.013276497,-0.016711494,0.009394361,0.018271886,-0.01657316,-0.027295921,0.0066893883,-0.04492761,-0.03577367,-0.023097485,-0.018769411,-0.00510368,-0.00084816315,-0.014503072,0.0031991631,-0.02689764,0.004459727,0.016433122,-0.070558,-0.012357007,-0.0014019227,0.00992425,-0.034945227,-0.019007295,-0.0009195853,-0.018355628,-0.022194827,0.0038921845,0.032677375,-0.0028987522,-0.020098286,0.007329908,0.007751668,0.02382269,-0.013719772,-0.003475299,0.034635924,-0.006744542,0.0058541545,0.0026521129,-0.025063252,-0.017723002,0.006499601,-0.006629082,-0.0016784254,0.0052108434,0.007647515,-0.016152097,-0.004742087,-0.03270951,-0.008106242,-0.019689515,-0.01800587,-0.030006729,-0.047687672,0.026511855,-0.014474478,-0.01669796,0.021954212,-0.02866736,-0.02660772,0.0082533695,-0.031363945,-0.019920684,0.00013271852,0.0070511694,-0.027307684,-0.008299273,-0.013514954,0.0053826957,0.01791049,0.013901997,0.0027625374,0.0075719794,0.04937892,-0.015788516,-0.0038757178,-0.02252213,-0.030408476,-0.0037351681,0.0075474028,0.015091663,0.022488702,0.014285982,0.0128689,-0.018358454,-0.043543674,-0.016164476,0.017698834,0.03133355,-0.02099293,-0.00013089529,-0.012523886,-0.031992525,0.001789071,0.031390093,0.038872033,0.0058884295,0.017895775,0.028635265,0.028667651,-0.016767716,0.009602446,-0.013359185,0.025559869,-0.0053360197,0.001551347,-0.0149178365,0.016603498,0.026970997,-0.020831855,-0.03217593,-0.044236343,0.0031211632,0.0025017653,-0.0006871983,0.01745906,-0.043236367,-0.01557441,-0.008536493,-0.00052635337,-0.055779833,0.033260554,-0.010268091,-0.028802643,-0.028140357,0.0015180141,0.0030931102,-0.0076868227,0.02783191,0.010237931,0.0043968162,-0.1218722,0.029217293,-0.03366463,-0.005590451,0.034654777,-0.0021853119,0.019510463,-0.052291453,-0.02431461,-0.035311766,0.0024945291,-0.032374587,0.020452673,-0.038622852,-0.0022855557,-0.008698079,-0.018970318,0.021525871,0.0069392608,0.010300566,-0.023909338,-0.06728446,-0.035258133,-0.06863239,0.013264901,0.042649783,-0.029537305,0.015546059,0.0014171296,0.027444534,0.01563402,-0.004077336,-0.013797547,0.061933998,0.015849588,0.019684795,-0.031949587,-0.045739196,-0.0046526203,0.03504303,0.03425366,0.0006862463,-0.06668579,0.021455914,-0.004695314,-0.0241424,-0.00950583,-0.014536354,0.02427476,-0.021294216,-0.084282674,0.010539408,0.03993433,-0.03809517,0.02666706,0.019464072,-0.005773467,-0.015153406,0.034802202,0.022475269,0.027255235,0.051332377,-0.037751045,-0.03924756,-0.024887837,-0.0074525597,0.023770371,0.0045408746,-0.015607174,-0.016933952,-0.01798753,-0.026723094,-0.012056305,-0.029754072,0.013981689,-0.041322466,0.03226691,-0.030023525,-0.027167488,-0.02993784,-0.008030459,-0.0104692,-0.028658763,0.06136922,0.045485176,-0.011180326,0.0054895487,0.0036357013,-0.01021957,-0.019061422,-0.04328906,0.03131079,-0.015538134,0.03436321,-0.011614177,-0.023052301,-0.0067359866,0.025322895,0.039886963,0.026142636,0.0048900573,0.038179673,0.023329593,-0.0046071443,0.018619651,-0.027709484,-0.012866348,0.014443009,-0.04191511,-0.0143760685,0.027040122,-0.042654034,-0.048985798,0.017018111,-0.060543835,-0.009074115,-0.02490027,-0.0011371991,-0.0032744945,-0.031776685,0.03890991,0.04361091,-0.01163753,-0.046963815,0.028576568,-0.030999627,0.0046527362,-0.015222443,0.040984247,-0.02375745,0.036028657,-0.0064815897,-0.02739509,-0.00963387,0.0053723482,-0.010621056,-0.0072629526,0.06940343,-0.0033981833,-0.029553443,-0.011156504,0.014653823,0.017569901,-0.037829045,-0.038569625,-0.02392526,-0.023954505,-0.014048504,0.022711238,-0.006477419,-0.012073518,0.020305596,0.020650275,0.03192858,-0.0022365781,-0.007491305,0.010326528,-0.051150613,-0.029344894,0.049767345,0.045352366,-0.019350844,0.00045657958,-0.018822761,-0.017927142,-0.008576682,-0.036195315,-0.020831298,0.06507961,0.03454962,0.011100718,0.04541503,0.0038632997,0.047655866,0.017220901,-0.045063406,0.024323227,0.033507656,0.06474702,0.01296341,-0.03434909,-0.04304136,0.03899505,-0.03192347,0.008414288,0.007190212,0.03602904,-0.0014918946,-0.03550497,0.00554348,-0.020284723,0.005821829,0.012506402,0.018572047,-0.005192283,-0.024495678,0.012004725,-0.04014215,-0.015212566,-0.003338783,-0.03836445,-0.043911733,-0.015315833,-0.019887839,-0.01702251,0.030685352,-0.0030432509,-0.019102456,-0.0146049075,0.008146327,-0.021034528,0.014992088,0.027998442,0.040687263,0.03753842,-0.000025848876,0.027372602,0.020946665,0.059849635,0.0011696422,0.01950005,0.043421388,-0.021243121,-0.0342424,0.035267603,-0.033899676,-0.0023446737,0.0010421149,-0.038058273,-0.045391172,0.0013310862,0.003034985,-0.01221796,0.023123058,0.019324264,0.025907956,-0.00073521753,0.063567355,-0.007737468,0.023644717,-0.019760804,-0.018104091,0.01054667,0.030412337],"created_at":1746088925226,"nchars":3925},"2":{"title":"数据类型","path":"redis/数据类型.md","embeddingModel":"bge-m3","ctime":1745932172879,"mtime":1745932172880,"tags":[],"extension":"md","metadata":{"created":"2025/04/29 21:09:32","modified":"2025/04/29 21:09:32"},"id":"060790fafb1418088e58975fbf4492de","content":"\n\nNOTE TITLE: [[数据类型]]\n\nMETADATA:{\"created\":\"2025/04/29 21:09:32\",\"modified\":\"2025/04/29 21:09:32\"}\n\nNOTE BLOCK CONTENT:\n\n(cont'd) ## Set\r\n\r\n一个集合最多可以存储 2^32 - 1 个元素\r\n\r\n### 内部实现\r\n\r\nSet 类型的底层数据结构是由 [哈希表](数据结构#哈希表) 或 [整数集合](数据结构#整数集合) 实现的\r\n\r\n1. 如果集合中的元素都是整数且元素个数小于 **512**（默认值，**set-maxinset-entries** 配置），Redis 会使用整数集合作为 Set 类型的底层数据结构\r\n2. 如果集合中的元素不满足上面条件，则 Redis 使用哈希表作为 Set 类型的底层数据结构\r\n\r\n### 常用命令\r\n\r\nSet 常用操作：\r\n\r\n```shell\r\n# 往集合 key 中存入元素，元素存在则忽略，若 key 不存在则新建\r\nSADD key member [merber...]\r\n# 从集合 key 中删除元素\r\nSREM key member [member...]\r\n# 获取集合 key 中所有元素\r\nSMEMBERS key\r\n# 获取集合 key 中的元素个数\r\nSCARD key\r\n# 判断 member 元素是否存在于集合 key 中\r\nSISMEMBER key member\r\n# 从集合 key 中随机选出 count 个元素，元素不从 key 中删除\r\nSRANDMEMBER key [count]\r\n# 从集合 key 中随机选出 count 个元素，元素从 key 中删除\r\nSPOP key [count]\r\n```\r\n\r\nSet 运算操作：\r\n\r\n```shell\r\n# 交集运算\r\nSINTER key [key...]\r\n# 将交集结果存入新集合 destination 中\r\nSINTERSTORE destination key [key...]\r\n# 并集运算\r\nSUNION key [key...]\r\n# 将并集结果存入新集合 destination 中\r\nSUNIONSTORE destination key [key...]\r\n# 差集运算\r\nSDIFF key [key...]\r\n# 将差集结果存入新集合 destination 中\r\nSDIFFSTORE destination key [key...]\r\n```\r\n\r\n### 应用场景\r\n\r\n#### 潜在风险\r\n\r\nSet 的差集、并集和交集的计算复杂度较高，在数据量较大的情况下，如果直接执行这些计算，会导致 Redis 实例阻塞\r\n\r\n#### 点赞\r\n\r\nuid:1、uid:2、uid:3 三个用户分别对 article:1 文章点赞：\r\n\r\n```shell\r\n# uid:1 用户对文章 article:1 点赞\r\n> SADD article:1 uid:1\r\n(integer) 1\r\n# uid:2 用户对文章 article:1 点赞\r\n> SADD article:1 uid:2\r\n(integer) 1\r\n# uid:3 用户对文章 article:1 点赞\r\n> SADD article:1 uid:3\r\n(integer) 1\r\n```\r\n\r\nuid:1 取消了对 article:1 文章点赞：\r\n\r\n```shell\r\n> SREM article:1 uid:1\r\n(integer) 1\r\n```\r\n\r\n获取 article:1 文章所有点赞用户：\r\n\r\n```shell\r\n> SMEMBERS article:1\r\n1) \"uid:3\"\r\n2) \"uid:2\"\r\n```\r\n\r\n获取 article:1 文章的点赞用户数量：\r\n\r\n```shell\r\n> SCARD article:1\r\n(integer) 2\r\n```\r\n\r\n判断用户 uid:1 是否对文章 article:1 点赞了\r\n\r\n```shell\r\n> SISMEMBER article:1 uid:1\r\n(integer) 0\r\n```\r\n\r\n#### 共同关注\r\n\r\nuid:1 用户关注公众号 id 为 5、6、7、8、9，uid:2 用户关注公众号 id 为 7、8、9、10、11\r\n\r\n```shell\r\n# uid:1 用户公众号 id 为 5、6、7、8、9\r\n> SADD uid:1 5 6 7 8 9\r\n(integer) 5\r\n# uid:2 用户关注公众号 id 为 7、8、9、10、11\r\n> SADD uid:2 7 8 9 10 11\r\n(integer) 5\r\n```\r\n\r\nuid:1 和 uid:2 共同关注的公众号：\r\n\r\n```shell\r\n# 获取共同关注\r\n> SINTER uid:1 uid:2\r\n1) \"7\"\r\n2) \"8\"\r\n3) \"9\"\r\n```\r\n\r\n给 uid:2 推荐 uid:1 关注的公众号：\r\n\r\n```shell\r\n> SDIFF uid:1 uid:2\r\n1) \"5\"\r\n2) \"6\"\r\n```\r\n\r\n验证某个公众号是否同时被 uid:1 和 uid:2 关注：\r\n\r\n```shell\r\n> SISMEMBER uid:1 5\r\n(integer) 1\r\n> SISMEMBER uid:2 5\r\n(integer) 0\r\n```\r\n\r\n### 抽奖活动\r\n\r\nkey 为抽奖活动名，value 为员工名称，把所有员工名称放入抽奖箱：\r\n\r\n```shell\r\n> SADD lucky Tom Jerry John Sean Marry Lindy Sary Mark\r\n(integer) 5\r\n```\r\n\r\n如果允许重复中奖，可以使用 **SRANDMEMBER** 命令：\r\n\r\n```shell\r\n# 抽取 1 个一等奖\r\n> SRANDMEMBER lucky 1\r\n1) \"Tom\"\r\n# 抽取 2 个二等奖\r\n> SRANDMEMBER lucky 2\r\n1) \"Mark\"\r\n2) \"Jerry\"\r\n# 抽取 3 个三等奖\r\n> SRANDMEMBER lucky 3\r\n1) \"Sary\"\r\n2) \"Tom\"\r\n3) \"Jerry\"\r\n```\r\n\r\n如果不允许重复中奖，可以使用 **SPOP** 命令：\r\n\r\n```shell\r\n# 抽取 1 个一等奖\r\n> SPOP lucky 1\r\n1) \"Sary\"\r\n# 抽取 2 个二等奖\r\n> SPOP lucky 2\r\n1) \"Jerry\"\r\n2) \"Mark\"\r\n# 抽取 3 个三等奖\r\n> SPOP lucky 3\r\n1) \"John\"\r\n2) \"Sean\"\r\n3) \"Lindy\"\r\n```","embedding":[0.0059186723,0.020057643,-0.0346463,0.025992371,0.019677255,0.012859531,0.020675007,0.035885192,-0.002380567,-0.018629057,-0.018381758,0.022658039,-0.0013808338,0.029745625,0.0007249042,-0.03282297,-0.014994987,-0.006369984,-0.01185032,0.0005341695,-0.038707703,0.018920045,0.023462586,0.01043959,-0.04695147,0.07528283,0.0041574202,-0.038048156,-0.037274785,0.0070783454,0.007174367,-0.008457825,-0.037622083,-0.025835421,-0.0031178752,-0.053516492,-0.013150915,-0.027527345,-0.097917296,-0.03114053,0.0042687245,-0.017549075,-0.025407035,0.00592583,-0.029669583,0.002901738,-0.025307741,-0.066163234,0.004374126,-0.0029633262,-0.029404813,0.012200827,-0.016826957,-0.038490675,0.010967583,0.056392435,0.010477262,0.010188003,-0.019594146,-0.027898889,-0.0083961785,0.014871158,-0.020419566,-0.048017904,-0.038006686,0.007896984,0.018055614,0.03691787,0.047311258,-0.033156347,-0.025356913,0.0114485305,-0.03300983,-0.062086485,-0.018611168,-0.0125308465,0.032408755,-0.0031573505,-0.008408088,-0.023211928,0.11670735,-0.008933888,0.02566303,0.0029995246,-0.00061759976,0.008832357,-0.019355725,0.051994357,-0.03653738,0.012700465,-0.0017302613,0.03605685,0.0008106322,-0.04928182,-0.0012261653,-0.01545624,0.012745358,-0.026452634,0.00056140596,-0.04266056,-0.06751208,0.013050888,0.012485872,0.031815283,-0.0019937458,0.030281004,0.007386646,0.045099013,-0.010102717,0.013917066,-0.03148882,-0.0019840568,0.012166151,0.018537281,0.0030213927,-0.01640772,-0.02862572,-0.0023533774,0.042508457,0.0019941456,-0.023599999,0.06679471,0.0037779997,0.010320395,-0.015996914,-0.02324637,0.00042408652,0.04757034,-0.07909535,-0.0060792095,0.029640637,0.01390417,0.046832554,-0.005699373,-0.042858314,-0.015693266,0.03599673,0.038886584,0.027346764,-0.032423023,0.031166017,0.012164524,-0.025300125,-0.015159158,0.029889967,-0.02136525,-0.006197085,-0.00029255517,-0.012772995,0.044152264,0.005286842,-0.015202687,0.011801324,-0.042443458,0.0035794764,0.0016723325,0.010372062,-0.0046503507,0.025938619,-0.0054140836,0.025647184,-0.009826933,0.05406217,0.02259933,0.012081523,0.00049870013,-0.0014680113,0.007143246,-0.00047576887,-0.01424575,0.009159306,-0.060065255,0.03816028,-0.0066515864,0.010349673,0.047499802,0.05074411,0.026060272,0.0376575,-0.03493718,-0.038607653,0.026965542,0.03207927,-0.053587545,0.030795794,-0.0010417013,0.009876728,-0.005209424,0.018340541,0.03577892,-0.053584248,-0.028623566,0.033049352,0.022454696,0.02576083,-0.021486834,-0.031176606,-0.026619103,0.032699294,-0.03994971,-0.017857797,-0.01381385,-0.03550953,-0.014182364,-0.0315121,0.0280995,-0.023885699,-0.017994007,0.02152557,-0.000036905323,0.044970814,0.013622651,-0.00012973203,0.006787548,0.006682459,-0.021757523,0.00089704344,-0.011399274,0.041313455,-0.012362376,-0.018772935,0.013407526,0.000809609,-0.019965712,0.0011534821,0.015591365,0.01432709,0.047538254,0.033313256,0.013178283,-0.043437768,0.06208977,-0.038963996,-0.010632352,-0.03282597,0.021738026,-0.061162986,0.014371621,0.057457663,0.053887237,0.016276406,-0.036631882,0.00034409203,-0.024233896,-0.06049284,0.044113982,0.015916208,0.02751957,-0.011797473,-0.01442406,-0.020334642,-0.0075102006,0.01599624,-0.031470843,-0.014060897,-0.03264631,-0.015336972,-0.03954992,0.041174576,-0.0026108127,0.0055932654,-0.03868392,-0.0029364564,0.037408207,0.0045643277,0.006365142,0.0019412845,-0.017358655,0.0038902438,0.06349896,-0.0042634197,0.013533283,-0.023838477,-0.009007855,-0.014867641,-0.03867175,-0.0039656847,-0.033080287,0.0140491985,-0.043806568,0.016538993,-0.00738922,-0.02688845,-0.020977017,0.0026776176,0.044517707,-0.007336983,0.005639583,0.015771123,0.0045503355,-0.002487591,-0.009697729,0.063356236,-0.04524368,0.012291826,0.038770895,-0.026867494,-0.18118015,-0.031323526,-0.023233077,0.011722351,0.0147883305,0.0025957748,-0.0005405483,0.005253825,-0.022640103,-0.03658334,-0.018244866,-0.128013,0.010642838,0.0034031514,0.035219852,0.015415976,0.02631631,0.023606662,0.005330048,-0.0644432,-0.008844608,-0.025005147,0.070137225,0.050249904,0.010446385,-0.019496068,0.03836845,-0.00019837757,-0.0154028265,-0.0038107492,-0.03473886,0.06726471,-0.026261855,-0.040193353,0.0543539,0.028277088,-0.013938068,-0.024966685,-0.0071051717,0.008996335,0.035903417,0.044451416,-0.005128151,-0.013610758,0.0223835,-0.023624107,-0.030479373,0.006685978,-0.006373575,0.022100804,-0.014204508,0.031644426,-0.016496157,0.01253531,0.00032943988,0.04240754,-0.020398363,0.030259887,0.020958785,0.0350183,-0.025277827,-0.02926481,-0.08848269,-0.017836994,0.028840983,0.010673279,-0.020532334,-0.0011047613,0.014947516,-0.007950803,-0.004939576,-0.021526985,-0.016682228,-0.033794656,0.014961978,0.007719202,-0.014814609,-0.026461745,-0.00089006964,-0.07659735,0.022360811,-0.006625949,-0.0070199077,0.0062439106,-0.010102968,0.015234786,-0.022521405,-0.035479218,0.02473478,0.3597688,-0.030740744,-0.012201265,0.01846425,0.00940359,0.0037970403,-0.005306038,-0.016738074,0.017107474,0.0030667717,-0.0034019689,-0.0043375613,0.03225247,0.041585054,0.05980938,0.0310265,-0.033247475,-0.010620555,-0.019908518,-0.030013492,0.018871032,-0.039753176,0.01564502,-0.006623918,-0.048752833,0.03011633,0.0052815177,-0.033462055,-0.03728189,0.03479017,-0.023967294,0.012354429,-0.026777333,-0.018072806,0.018300043,-0.02583126,-0.06047041,-0.059476968,-0.015373056,-0.026974473,0.015892396,-0.02221399,-0.008436384,-0.014291966,-0.05234633,-0.009558347,-0.020051893,0.018542906,-0.0014769925,-0.03601336,0.02387304,-0.018483888,-0.00910608,0.0029958163,-0.016476437,-0.013528921,-0.013327343,0.004275181,-0.049198646,-0.002459323,0.035675604,0.014605214,-0.057533115,0.054584768,0.044013403,0.00063318666,-0.0043398053,-0.029727332,-0.0323028,0.011287804,0.039466094,0.019401016,0.03703863,-0.010423437,0.0012205563,-0.023941465,0.01197781,0.0075538876,0.03433878,0.022077512,-0.031207476,-0.0038769753,0.03551974,0.027999517,0.019472986,0.034418404,-0.030328609,0.036399256,0.019136006,-0.030817678,-0.0022669074,-0.008427309,-0.03502498,-0.014448678,0.02030073,-0.023192469,0.013598695,-0.028991666,0.02861577,0.0036344398,0.021194875,0.033871867,0.02204962,0.014557971,0.0060264496,-0.00071459496,-0.0037061635,-0.042228006,0.0076047094,0.010545813,-0.033115,0.01794975,-0.0011860939,0.00091317174,0.08915742,0.034359757,-0.0034072434,0.047629684,-0.0023617668,0.07095112,-0.034493662,-0.031906072,0.018217362,0.0074949805,-0.02177576,-0.07217102,0.025381524,-0.01535556,-0.0029219757,0.008482943,0.00025669823,0.030813007,-0.03667986,-0.033035956,-0.010641706,-0.06443488,0.04410154,0.009415052,-0.016185213,0.029621502,0.017005976,-0.016476283,-0.004626826,0.034753185,-0.0054284777,0.0095434375,-0.0053508407,-0.0037022352,-0.026879406,0.004738952,0.01206727,0.031704176,0.011903114,-0.026709395,0.008636184,-0.007248396,0.027598586,-0.023562608,-0.035234105,-0.042979106,-0.0020710214,0.026219249,0.0014344344,0.057399407,-0.020708164,0.041923817,0.028223274,0.022809485,-0.022087643,0.0055988543,0.004291831,-0.07099358,0.023844652,0.02365288,0.051594526,-0.028266812,-0.012725508,0.021937195,-0.005208962,-0.015537305,0.03306375,0.024432747,-0.03196069,0.037591048,-0.036059134,-0.01526959,0.014452212,0.02305515,0.010267805,-0.062225223,0.024315488,0.05867426,-0.012555489,-0.0016623,-0.010031038,0.007664764,-0.03114824,0.023597179,-0.011531198,0.0095136,0.03743086,0.009699406,0.012702436,0.020639013,0.016840637,-0.019639218,0.0013345992,0.034719158,0.015827233,-0.03918027,0.02505837,0.03374844,0.0014325894,-0.018587977,0.0093537755,-0.039054442,0.05381604,0.03470531,0.0041217566,0.0113369925,-0.05659053,-0.028742418,0.01312969,-0.027164377,-0.027240256,0.011687918,0.0068699974,-0.03284285,-0.056837596,-0.03473,-0.02105962,-0.029579666,-0.0074858316,-0.0150229065,0.010539283,0.0073196054,0.010844704,-0.0020380316,0.0059871627,0.021580711,-0.018473463,0.010750155,0.0260199,0.049461544,0.015250087,0.016600095,-0.028994417,0.036184687,-0.004013414,-0.016932916,0.006277881,-0.021064278,-0.073598936,-0.047153864,-0.0020973615,0.01568323,-0.0006642973,-0.0153573,-0.024260044,0.033376127,0.019448841,-0.0014553155,-0.016789379,-0.006897217,-0.012035228,0.0063053924,0.0021958703,-0.051534258,-0.008109741,-0.01528661,0.018634368,-0.014220102,-0.018757408,-0.03628256,-0.0021341231,-0.016406782,0.02985828,-0.048792854,0.009839812,-0.007706262,-0.10304117,-0.011156781,-0.023068918,-0.005814889,0.007436143,-0.020664584,-0.04672158,0.012274174,-0.01400629,0.018286688,0.011940206,-0.022927992,-0.051539257,0.016994128,0.010536978,0.05199464,-0.0099104615,0.046951964,0.019526549,-0.010983928,-0.007815269,-0.015002883,-0.012729518,-0.010008525,-0.013881925,0.051099412,0.012135864,0.0106465155,-0.0007870643,-0.01785368,0.04087974,-0.044734538,-0.03591927,-0.023450125,-0.02403971,-0.018714685,-0.038490113,0.022866566,-0.016637186,-0.029126156,0.018380534,-0.0012107961,-0.0042328425,0.02457108,-0.05695904,0.009088354,-0.011372104,0.0036249405,-0.0029458925,-0.018177953,-0.038641278,-0.0015589948,0.041367847,0.00044006822,-0.011857552,0.0006363468,0.08050577,-0.00040705843,-0.010274526,-0.021624453,0.005530571,0.021836946,0.009579134,0.046956733,0.040817767,0.05867553,-0.009667929,-0.0035740822,-0.027696002,-0.032351308,0.005882795,0.012355194,-0.01435187,0.032307535,-0.006212305,-0.034190513,-0.00074840355,0.020250332,0.04063288,-0.0060434137,0.019900741,0.048631273,0.04429595,-0.0020634586,-0.007877599,0.004892788,0.025438651,-0.008034081,-0.0062685856,-0.03763641,0.011913188,0.009188115,-0.015160215,-0.014380725,-0.03498982,-0.0063772034,0.0272945,-0.016646389,0.015957383,-0.038750462,-0.018402994,0.0113241095,0.03648181,-0.022513272,-0.0070901173,-0.0057645114,-0.017713668,-0.03362999,-0.004700517,0.04029177,0.0014381021,0.0020825616,-0.007412815,0.016853606,-0.12952815,0.019096691,0.0006170003,-0.019307943,0.0061065787,0.020375831,-0.015273598,0.013036049,0.013695271,-0.032524113,0.07460916,-0.050883427,0.027028464,-0.010071911,0.033181824,0.019925427,-0.030052712,0.03174864,0.027120765,0.039089598,0.0050290003,-0.053167194,-0.039494816,-0.042113278,0.013624666,0.050825424,-0.0072269915,0.015118065,-0.011249354,0.007256343,-0.013135488,-0.00663701,-0.0048604202,0.054862794,0.007540993,0.016314704,-0.03548944,-0.036639456,0.007972946,0.048697896,0.034454416,-0.012664437,-0.047049098,-0.02115696,0.00834601,-0.012219173,-0.025238134,-0.022003286,-0.0045376243,-0.020947555,-0.042697176,-0.008916254,0.050536435,0.008771159,0.027167225,0.027604494,0.0009494969,0.0059755407,0.036251005,0.044644583,-0.015832521,0.019820634,-0.010866394,-0.0034080124,0.0018675479,-0.019520065,-0.003957999,-0.01737729,-0.0138608385,-0.026377859,0.014425397,-0.04825155,-0.019692732,-0.037068475,0.0140170455,-0.019061722,0.03230783,0.005075917,-0.005295663,-0.033699367,-0.023421505,-0.020941827,-0.012754665,0.04798869,0.008357851,-0.005769558,0.009581823,0.009569223,-0.037780546,-0.05168075,-0.023118792,0.05188638,-0.015267546,0.030783115,-0.008357162,0.019075477,0.013507555,0.02293572,0.004441837,-0.030526089,0.023797976,0.03522645,-0.024636062,-0.0074385405,0.007438234,-0.010297476,0.0022277955,0.009206714,-0.023936927,-0.005866112,0.0049217683,-0.053356394,-0.039536446,-0.0041067773,-0.046058703,0.015136809,0.0043035727,0.03911642,-0.003139869,0.009623677,0.017332394,0.0405793,-0.0066831517,-0.06418653,-0.010691214,0.0016076788,-0.032425113,0.012826631,0.027075453,-0.009797877,0.0348639,-0.00085661723,-0.03864896,0.030208793,-0.022801206,-0.0067325747,-0.021701455,0.08509825,0.0061597223,-0.038862854,-0.036160618,0.04707966,-0.0024052542,-0.059731316,-0.04115398,-0.020103734,0.0014925469,-0.02352753,-0.0053282115,0.026107408,0.011613501,0.036197428,0.022050578,0.022284944,0.012179484,0.002239545,-0.0119649945,-0.04795049,0.0034473464,0.03493031,0.00471595,-0.015185587,-0.02645534,-0.01934755,-0.003407018,-0.0032158934,-0.021245964,-0.028094962,0.030429883,-0.044849105,-0.003087726,0.017057229,-0.012114084,0.060012937,0.032309946,-0.027840888,0.029792491,0.005658849,0.037413646,-0.014540386,0.00083137874,-0.03488825,0.040397134,-0.013933129,0.029236073,-0.024233012,0.032916047,-0.004345727,-0.0077546593,0.0026728637,0.008513437,0.050919976,0.03883933,-0.0023730863,0.012899627,-0.034892406,0.014026757,-0.019001083,-0.010087339,0.005520128,-0.06677398,-0.026660968,-0.0063818353,-0.013270273,-0.0101975445,0.0031467152,-0.0035603524,0.00043739108,-0.02506229,-0.013677665,-0.0054485435,0.029955616,0.04637411,0.026617037,0.03024971,0.00815134,0.014415202,0.011434765,0.044094894,0.037662257,0.0038645454,0.03757949,-0.0011949996,-0.029443491,0.03750509,-0.033291146,-0.044512875,-0.007384366,-0.009749887,-0.0010721125,0.00026518537,0.013470891,-0.012858595,0.06377987,-0.0038469136,0.030266495,0.008833154,0.04973303,-0.031563934,-0.018903818,-0.004437606,-0.003563686,0.00090326497,0.018011965],"created_at":1746088925245,"nchars":2885}},"count":2}}