{"index":{"vectorIndexes":{"embedding":{"size":1024,"vectors":{"87b57dad889cee2b2d25db78f963ca47":[1.0000002935815822,[-0.013866409659385681,0.020307989791035652,-0.023190813139081,0.0069633056409657,0.01305480021983385,-0.03246782347559929,-0.022788027301430702,0.02080952562391758,-0.016404351219534874,-0.023411506786942482,-0.02738395892083645,-0.0264689140021801,-0.03693929314613342,0.014002150855958462,0.03389948606491089,-0.027686914429068565,-0.017889034003019333,-0.015561933629214764,0.009739385917782784,-0.02174886129796505,-0.002390222856774926,0.023191947489976883,0.021038522943854332,0.012206929735839367,-0.033527158200740814,0.048985544592142105,-0.015221534296870232,-0.01404893770813942,-0.019250646233558655,0.06032799184322357,0.029672861099243164,0.021140024065971375,0.027593456208705902,-0.018333876505494118,0.007090781349688768,-0.021329084411263466,0.013087444938719273,-0.01942169852554798,-0.04296780750155449,0.017103834077715874,0.04355460777878761,0.03405528515577316,-0.009818837977945805,-0.04828955605626106,0.029328729957342148,-0.005418808665126562,0.018965935334563255,-0.06213820353150368,-0.000664560473524034,-0.017054937779903412,0.014104700647294521,-0.00579663272947073,-0.0022450792603194714,0.014600547961890697,-0.0034142606891691685,0.015874462202191353,-0.05582495033740997,-0.052501577883958817,0.010798530653119087,0.005386566277593374,-0.0012841756688430905,-0.027266819030046463,-0.0394665002822876,0.011695201508700848,-0.03363297879695892,0.044436585158109665,-0.009223857894539833,0.02612200565636158,0.008584961295127869,-0.040468115359544754,-0.027712173759937286,0.006069018971174955,-0.015513655729591846,-0.05905493348836899,-0.03971511125564575,-0.030035289004445076,0.004504462704062462,0.01412707008421421,0.01699434407055378,-0.010832061059772968,0.01819819211959839,-0.02041732519865036,0.05107378587126732,0.0003801656130235642,0.009873291477560997,0.05787794291973114,-0.01814928837120533,-0.014846154488623142,-0.03280825912952423,0.04292318597435951,-0.004625258501619101,0.03537493199110031,0.013370667584240437,-0.023303931578993797,0.01155946683138609,-0.001063833013176918,0.015619251877069473,0.014251681044697762,0.001544153201393783,-0.0007143556722439826,-0.013411971740424633,0.02230769954621792,-0.009327390231192112,0.02606951631605625,0.02279631234705448,0.06178396940231323,0.033392127603292465,0.06897980719804764,0.0016943190712481737,-0.026808451861143112,0.04708095267415047,0.013694546185433865,0.01733679510653019,0.009078249335289001,0.03136762976646423,-0.029373547062277794,-0.08009212464094162,-0.022317184135317802,0.03609362989664078,0.0012930998345836997,0.012504057958722115,0.024324938654899597,0.04101527854800224,0.004841892048716545,-0.050933972001075745,0.014936650171875954,0.03347712755203247,0.014084178023040295,0.005237662699073553,0.0016096492763608694,0.05539212375879288,0.05760388448834419,0.015986986458301544,-0.0019971346482634544,-0.04616441950201988,-0.017082439735531807,0.020660005509853363,-0.016530072316527367,0.05775061249732971,0.009308693930506706,0.013916349038481712,-0.041598331183195114,-0.010516265407204628,-0.01433075312525034,-0.02891014702618122,0.021871309727430344,0.011702097952365875,-0.029581574723124504,0.0023309041280299425,-0.005345327313989401,-0.019437823444604874,-0.05311039462685585,0.016135521233081818,0.017172155901789665,-0.05242284759879112,0.027634907513856888,0.023206163197755814,0.00914924405515194,-0.05034879595041275,-0.0036273968871682882,0.030185801908373833,-0.0240342877805233,-0.014688142575323582,-0.018289798870682716,0.021741848438978195,0.01766284927725792,-0.005119075067341328,-0.03419157862663269,0.007415103260427713,-0.007152342703193426,-0.010124554857611656,-0.07713248580694199,-0.010396482422947884,-0.002901422791182995,0.021164797246456146,0.0028594338800758123,0.08591572940349579,0.024090664461255074,-0.011956064961850643,-0.00647637527436018,-0.03168933466076851,0.016455259174108505,0.005490607116371393,-0.014072485268115997,0.010857529938220978,0.007715157233178616,-0.008476999588310719,-0.004833596292883158,0.007345028221607208,0.0010993742616847157,-0.0022760445717722178,-0.03338244557380676,0.04009934514760971,0.026495547965168953,-0.03707525134086609,-0.02604556828737259,0.030488329008221626,0.02328353375196457,-0.0031250372994691133,-0.03517162427306175,-0.02051539160311222,-0.020702160894870758,0.0053686765022575855,0.01755646988749504,0.0008987885667011142,0.010261611081659794,0.001265665632672608,-0.06460519880056381,0.021043000742793083,0.001107690972276032,-0.022310255095362663,-0.011811144649982452,-0.03532933443784714,0.040116019546985626,-0.010438778437674046,-0.008426184765994549,-0.0015294031472876668,0.021999923512339592,0.016820255666971207,-0.04599713906645775,-0.048154834657907486,0.049197010695934296,-0.02042677439749241,-0.03614997863769531,-0.0077963583171367645,0.026765834540128708,-0.014989237301051617,0.07416059821844101,0.04117799922823906,-0.015644125640392303,-0.02100437693297863,-0.01688838005065918,0.023005250841379166,-0.027642345055937767,0.016271810978651047,-0.005487342830747366,-0.03880249708890915,-0.012989459559321404,-0.01598244532942772,0.018176574259996414,0.006779804360121489,-0.03983677178621292,0.0466829277575016,-0.0027810169849544764,-0.02009108103811741,-0.0008265065844170749,-0.022850869223475456,0.04047451913356781,-0.008908449672162533,-0.023960281163454056,0.00311274197883904,-0.018905185163021088,-0.04446246847510338,-0.028410067781805992,-0.026680393144488335,0.0006122742779552937,-0.04338055104017258,0.002179195173084736,0.025183595716953278,0.03418475389480591,-0.006058282218873501,0.010871331207454205,0.020441809669137,0.020555295050144196,-0.02809538133442402,-0.010858160443603992,0.060705844312906265,-0.0482756644487381,-0.002371437381953001,0.03279588371515274,0.031430985778570175,-0.008522157557308674,0.0026148215401917696,0.011091726832091808,-0.022384507581591606,0.011209968477487564,0.03523273020982742,-0.014127161353826523,0.03234949707984924,-0.005450149066746235,-0.046735502779483795,-0.03226635977625847,0.013072925619781017,-0.02257644012570381,-0.02459568902850151,0.03017207607626915,0.002375304466113448,0.05171862244606018,-0.0006214926834218204,0.02173900045454502,-0.0147992093116045,-0.05442686006426811,0.04204197973012924,-0.039791326969861984,-0.0583406463265419,-0.010527024045586586,0.0094739506021142,-0.14680545032024384,0.018882254138588905,-0.0036388663575053215,0.04693517088890076,-0.01131455134600401,-0.022459281608462334,0.0056037260219454765,-0.010728179477155209,-0.009984435513615608,-0.06295854598283768,-0.0053702290169894695,-0.09662864357233047,-0.04473121091723442,-0.023479973897337914,-0.012827413156628609,0.004088121931999922,-0.015511095523834229,-0.016722509637475014,-0.004881536588072777,-0.05447681248188019,0.015634385868906975,-0.017747167497873306,0.006387738510966301,0.016818268224596977,-0.03524331375956535,0.02568582259118557,0.03476184606552124,-0.04235360398888588,-0.05340376868844032,-0.023039113730192184,0.022124333307147026,0.09022890776395798,0.017878202721476555,-0.010704856365919113,0.01585175096988678,-0.019949769601225853,0.01719404011964798,0.03826858848333359,-0.009845903143286705,0.004083263222128153,-0.008554170839488506,0.006079834420233965,-0.013336378149688244,-0.026131602004170418,0.06188306584954262,-0.05316562205553055,-0.005858905613422394,-0.013309726491570473,-0.012496763840317726,0.032264526933431625,0.04000052809715271,0.006407660897821188,0.011663428507745266,0.0295416247099638,-0.012761076912283897,-0.00275169825181365,-0.004491934087127447,-0.0062792920507490635,-0.013755371794104576,0.01363784447312355,0.007841012440621853,-0.03087604232132435,-0.03368646651506424,-0.021670717746019363,0.02902437560260296,-0.048761576414108276,0.010860425420105457,0.0038275327533483505,-0.026141326874494553,-0.02503369003534317,0.04601293057203293,0.004873553290963173,0.019863180816173553,-0.03564244136214256,0.0075733293779194355,0.016522565856575966,-0.05649203807115555,0.0012768198503181338,0.0020364418160170317,-0.07173692435026169,-0.03963329270482063,0.00014177148113958538,0.006646596826612949,-0.019371449947357178,-0.01709466427564621,0.035125430673360825,0.020579040050506592,0.0327683761715889,0.015276506543159485,0.4254554808139801,0.010321401059627533,-0.06462408602237701,-0.0252350103110075,0.018375972285866737,-0.004554761573672295,-0.0024695817846804857,-0.014704345725476742,-0.007561073638498783,-0.011255384422838688,-0.019421709701418877,0.024072447791695595,-0.011456969194114208,0.015200485475361347,0.014319571666419506,0.04868462309241295,-0.02004866488277912,0.005358923692256212,-0.0061466931365430355,-0.006724612787365913,-0.012013830244541168,0.020203644409775734,0.02445736527442932,0.028160110116004944,-0.05330666899681091,0.016911638900637627,-0.02159685641527176,0.012533639557659626,-0.01199187058955431,0.008199512958526611,-0.005226840730756521,0.047474198043346405,-0.022659409791231155,0.01598604954779148,-0.03202624246478081,-0.010373979806900024,-0.018531301990151405,-0.046550385653972626,-0.018371280282735825,0.0010575874475762248,0.006378556601703167,-0.01733296923339367,-0.018533311784267426,-0.043723441660404205,-0.020208626985549927,-0.027103807777166367,0.04069293290376663,-0.0016965508693829179,-0.022007949650287628,-0.007792958058416843,0.03793336823582649,-0.05444905906915665,-0.008001196198165417,-0.02052202820777893,0.04883108288049698,-0.01936466246843338,-0.014355514198541641,-0.02130034752190113,0.007990367710590363,0.03213344141840935,0.013286399655044079,0.05754166841506958,0.015455938875675201,0.07345730811357498,0.0034916196018457413,0.05191924422979355,0.03737787529826164,0.020420223474502563,0.005839906167238951,0.03408189117908478,-0.00108265969902277,0.022993719205260277,-0.0015512071549892426,-0.0019396493444219232,-0.06833918392658234,-0.029039306566119194,0.05791136994957924,0.0014422951499000192,0.005330063868314028,0.04099335893988609,-0.001146276481449604,0.012332540936768055,0.003947935067117214,0.05137396976351738,0.023591067641973495,-0.027429034933447838,-0.027665045112371445,0.0777876153588295,-0.011808608658611774,-0.04350387305021286,-0.012866396456956863,-0.049739252775907516,-0.060256026685237885,-0.02936447784304619,0.025910403579473495,0.04239673912525177,-0.02424534782767296,-0.01788618229329586,-0.02251126430928707,-0.018498318269848824,-0.0095043471083045,0.0026282821781933308,-0.020535917952656746,-0.010563788004219532,-0.040469810366630554,0.029683072119951248,0.006693123374134302,0.031040087342262268,0.02923298440873623,0.02373448945581913,-0.05044332519173622,0.010770888067781925,-0.007718962151557207,0.007993347011506557,0.0013437370071187615,0.01551987137645483,0.04759363457560539,0.055355705320835114,0.02550964243710041,-0.016682446002960205,-0.006779022049158812,0.039603523910045624,0.014614601619541645,-0.0006135609000921249,0.004090409260243177,-0.03591313585639,-0.03362021967768669,-0.023173678666353226,-0.040142178535461426,0.009936578571796417,0.050144173204898834,0.038924094289541245,0.0035172284115105867,0.007740609347820282,0.033665671944618225,-0.036940861493349075,0.011236355639994144,0.03087564930319786,0.0021447392646223307,0.04955456405878067,0.005397763568907976,-0.02594183012843132,-0.014517187140882015,0.0010248817270621657,-0.03126121684908867,0.04671723395586014,0.006409515626728535,0.04727143421769142,0.013864144682884216,-0.03052976354956627,0.026666929945349693,0.05913901329040527,0.01148791704326868,-0.001363464049063623,-0.011517085134983063,0.010361205786466599,0.007813517935574055,-0.020734108984470367,-0.030557794496417046,-0.007514857687056065,-0.016881564632058144,-0.0057942732237279415,0.0070605105720460415,0.02638772502541542,-0.023576708510518074,0.009845367632806301,-0.006080974824726582,0.054818931967020035,-0.050041843205690384,-0.008614267222583294,-0.03144417703151703,0.0033879533875733614,0.016357215121388435,0.025831567123532295,-0.0591692216694355,-0.037325043231248856,-0.07069199532270432,-0.01612711139023304,0.03575882315635681,-0.036809395998716354,0.017742417752742767,0.03216296806931496,0.008462934754788876,-0.034006644040346146,-0.0035473343450576067,0.009463481605052948,0.01908791810274124,0.0013897595927119255,-0.0003214686003047973,-0.05719190835952759,-0.010830031707882881,0.0663437470793724,0.013505782000720501,0.009228233247995377,0.01506280992180109,0.006495723035186529,-0.0022193382028490305,0.03762775659561157,0.0397447869181633,-0.035055287182331085,0.014130325056612492,0.004115754272788763,-0.00754785630851984,0.04213847219944,-0.007363857701420784,-0.010636611841619015,-0.03201981633901596,0.024333763867616653,-0.020835185423493385,-0.02571392059326172,-0.007704885210841894,0.01234555896371603,-0.007341720629483461,-0.01639292575418949,0.011513636447489262,-0.026455240324139595,0.030440255999565125,0.06832439452409744,0.021188907325267792,0.020481659099459648,-0.059613168239593506,-0.023992149159312248,0.016204753890633583,-0.028818732127547264,-0.016669100150465965,0.015420425683259964,0.0026864472310990095,-0.021249638870358467,-0.043302249163389206,-0.01415565051138401,-0.0286297295242548,-0.04350835457444191,-0.012723250314593315,-0.02789638750255108,-0.024049390107393265,-0.033266399055719376,-0.004424754995852709,0.030237916857004166,0.05217023938894272,-0.020032769069075584,0.009908385574817657,-0.01681702770292759,0.01892274245619774,0.035901788622140884,0.008117346093058586,0.023242631927132607,0.008238164708018303,-0.008771170862019062,0.03688693791627884,0.013883029110729694,0.02235262095928192,-0.006012397352606058,0.009305562824010849,0.0014577523106709123,0.019598616287112236,0.03818967565894127,-0.008957547135651112,-0.0023973712231963873,0.02896019257605076,-0.042623426765203476,0.01382033247500658,-0.00485225347802043,-0.026998315006494522,0.014294702559709549,0.0009385272278450429,-0.017593519762158394,-0.047081343829631805,0.019493889063596725,-0.024978386238217354,-0.04957055673003197,0.028360774740576744,-0.0035839055199176073,0.018689977005124092,-0.02418062463402748,0.038948167115449905,-0.0015376389492303133,0.020474351942539215,-0.0000760320108383894,-0.053836047649383545,-0.007608041632920504,-0.05536118149757385,0.0038260275032371283,0.054311927407979965,-0.005513870157301426,-0.02687639370560646,0.019579291343688965,-0.03148997947573662,0.01704152673482895,0.006462801247835159,0.0044878944754600525,0.04587185010313988,0.005135964136570692,-0.04565809667110443,0.016946353018283844,0.011514979414641857,0.03395964950323105,-0.012582673691213131,0.04803604632616043,0.03438365086913109,0.003436135593801737,-0.010246776975691319,-0.014894101768732071,-0.025062596425414085,-0.009572765789926052,-0.042086392641067505,0.034815020859241486,-0.034128181636333466,-0.029485322535037994,0.04148769751191139,-0.004489613696932793,0.03816743940114975,-0.008950932882726192,-0.003574091475456953,-0.03852161392569542,-0.04086443781852722,0.041537050157785416,0.017037060111761093,-0.02711264230310917,0.02309083566069603,-0.0012219658819958568,0.037853170186281204,0.01866876892745495,-0.03412933275103569,0.009603860788047314,0.006411420181393623,-0.016335273161530495,-0.045081619173288345,-0.03790280222892761,-0.03662816807627678,-0.047297313809394836,0.0033420745749026537,0.003740346757695079,0.03724774345755577,-0.00800543837249279,-0.012172493152320385,0.0007383015472441912,0.04284932464361191,-0.015560044907033443,-0.03799741342663765,-0.028989499434828758,0.01251264102756977,0.025171441957354546,0.07044210284948349,-0.004486388526856899,-0.0052091702818870544,0.02994699962437153,0.012075519189238548,-0.024492314085364342,-0.012141013517975807,-0.03672124072909355,0.03720147907733917,0.024454912170767784,-0.031316306442022324,-0.027572227641940117,0.043970439583063126,-0.023042960092425346,0.0958302840590477,0.04447435587644577,0.03024010919034481,-0.04146512597799301,0.005731094162911177,0.024671204388141632,-0.01664350926876068,-0.012271638959646225,0.01040799729526043,-0.03076786920428276,0.03767106309533119,0.0016659916145727038,0.007652963977307081,0.007662469986826181,0.023614799603819847,0.0041076927445828915,-0.08212009817361832,-0.022881867364048958,-0.025577766820788383,0.009422026574611664,-0.011190581135451794,0.020002456381917,-0.0008751761633902788,-0.029214531183242798,-0.044122207909822464,-0.008084263652563095,-0.025109384208917618,-0.04845956340432167,-0.02765435166656971,0.0090766791254282,-0.02428777702152729,0.018635571002960205,-0.015864357352256775,-0.00023296712606679648,0.018116874620318413,-0.00011621335579548031,0.0012108477531000972,0.020993636921048164,-0.06564054638147354,-0.024948058649897575,-0.025181328877806664,-0.0014370650751516223,0.01589549519121647,0.01827833615243435,-0.011740269139409065,-0.061176370829343796,-0.008775882422924042,-0.005011616740375757,0.057738255709409714,-0.0071756793186068535,0.023438764736056328,-0.04129359871149063,-0.024172820150852203,0.023534949868917465,-0.03948080167174339,-0.007643757853657007,0.02544528618454933,-0.0066011808812618256,-0.020078124478459358,-0.000990163767710328,-0.03722768276929855,-0.01539609208703041,0.011551141738891602,0.010245053097605705,0.02159365639090538,-0.006668589077889919,0.015143762342631817,-0.017489183694124222,0.003991419915109873,-0.01527923159301281,-0.014249080792069435,0.05681399255990982,0.002801191061735153,-0.01959698088467121,-0.005144733469933271,-0.000701808137819171,-0.005544897634536028,0.004383360035717487,0.003447143826633692,-0.032766662538051605,-0.004841108340770006,0.0015569759998470545,-0.0038891155272722244,0.008955683559179306,0.007741780485957861,-0.015948424115777016,0.012093094177544117,-0.008653019554913044,-0.002211441518738866,0.02693147398531437,-0.03467688336968422,0.012694873847067356,0.0363311693072319,-0.002196415327489376,-0.006942673586308956,0.008571028709411621,-0.027656150981783867,0.03348629176616669,0.002367523266002536,-0.014917943626642227,-0.05512416362762451,-0.06570376455783844,-0.007116297725588083,-0.011143133044242859,-0.06143728271126747,-0.000055377626267727464,0.0008251469116657972,0.018009459599852562,-0.029845409095287323,-0.0024652695283293724,0.03999949246644974,0.0022925767116248608,0.015192665159702301,-0.014107838273048401,0.03621552512049675,-0.002034223871305585,0.02848057448863983,0.009654872119426727,-0.0009456217521801591,-0.02342088147997856,0.015596394427120686,0.003044139826670289,0.0693308487534523,0.011668922379612923,0.023153109475970268,0.025643518194556236,-0.022076880559325218,-0.04853545129299164,0.029250193387269974,-0.009069745428860188,-0.03818591311573982,0.00428426917642355,-0.020225780084729195,-0.01053945068269968,-0.014005561359226704,0.011211728677153587,0.000021217421817709692,-0.03466945141553879,0.00007307202031370252,0.054393816739320755,0.008236301131546497,0.005465977359563112,-0.007780983578413725,-0.016187429428100586,0.022098658606410027,-0.005102635361254215,0.0027039784472435713,0.004426049068570137,-0.01941871829330921,0.005223555956035852,-0.028895584866404533,-0.006438402459025383,-0.027144882827997208,-0.026037300005555153,-0.00006877911800984293,-0.00697185518220067,0.0016729730414226651,-0.03298443555831909,0.01020041387528181,-0.06721668690443039,0.013490957207977772,-0.05932324379682541,-0.019308170303702354,0.0434771291911602,0.009753139689564705,0.009584931656718254,0.030596986413002014,-0.025600165128707886,0.0059159728698432446,-0.038778431713581085,-0.028893807902932167,0.04389530047774315,0.03617621958255768,-0.002970383269712329,-0.00800651591271162,0.06627548485994339,0.016856689006090164,-0.015531518496572971,0.005223235581070185,0.024640655145049095,-0.03468973562121391,0.017642540857195854,-0.0059394435957074165,-0.019737767055630684,0.03412693366408348,0.01623915322124958,-0.025562657043337822,-0.020590204745531082,-0.04294634610414505,0.0034767037723213434,-0.0033967571798712015,0.03613985329866409,-0.03563069924712181,-0.015922803431749344,-0.004894936457276344,-0.0069518787786364555,-0.035978980362415314,-0.02043967694044113,0.01479464489966631,-0.01564163900911808,-0.019321022555232048,0.023279670625925064,0.0076096318662166595,0.013287032954394817,0.011759421788156033,-0.01928390935063362,0.012215922586619854,-0.03226087614893913,-0.005679183639585972,0.015020997263491154,-0.026543091982603073,-0.020097164437174797,0.04986123368144035,-0.010476091876626015,0.0054112765938043594,0.03838794678449631,0.02130412869155407,-0.010975037701427937,-0.013079813681542873,-0.0021331110037863255,-0.02747899852693081,0.03968608006834984,-0.011734423227608204,-0.008413565345108509,0.00888175331056118,0.022681694477796555,-0.01228394452482462,-0.007049074862152338,-0.009126072749495506,0.02100447751581669,0.019185461103916168,0.013528336770832539,-0.022696567699313164,0.015970563516020775,-0.004381338134407997,-0.02262009307742119,0.010303081013262272,0.018251173198223114,-0.01505641732364893,-0.014429010450839996,-0.0009630132117308676,-0.009065700694918633,0.0012640039203688502,-0.026534702628850937,-0.01871686801314354,-0.01597052626311779,-0.001601834548637271,0.004651426337659359,-0.038153789937496185,0.006694811396300793,-0.0050710891373455524,0.009637846611440182,-0.01828530803322792,0.022916411980986595,0.0046374439261853695,0.0021417727693915367,0.01750827021896839,0.042574442923069,0.03601934760808945,0.016823075711727142,-0.02167307771742344,-0.03496163338422775,-0.03467269614338875,-0.016198014840483665,-0.014934023842215538,-0.0221389327198267,0.05649537220597267,0.053050749003887177,-0.0035383489448577166,0.04627811908721924,-0.0056692766956985,0.04222625121474266,-0.04157697781920433,0.005156361032277346,0.040044501423835754,-0.015146709978580475,-0.048193637281656265,0.017002765089273453,0.014903823845088482,0.01933179795742035,-0.00898707378655672,0.015429562889039516]]}}}},"docs":{"docs":{"1":{"title":"内存淘汰策略","path":"redis/内存淘汰策略.md","embeddingModel":"bge-m3","ctime":1746035239726,"mtime":1746035239727,"tags":[],"extension":"md","metadata":{"created":"2025/05/01 01:47:19","modified":"2025/05/01 01:47:19"},"id":"87b57dad889cee2b2d25db78f963ca47","content":"\n\nNOTE TITLE: [[内存淘汰策略]]\n\nMETADATA:{\"created\":\"2025/05/01 01:47:19\",\"modified\":\"2025/05/01 01:47:19\"}\n\nNOTE BLOCK CONTENT:\n\n当 Redis 的运行内存已经超过 Redis 设定的最大内存之后，则会使用内存淘汰策略删除符合条件的 key，以此来保障 Redis 高效运行\r\n\r\n## 如何设置 Redis 最大运行内存\r\n\r\n在配置文件 redis.conf 中，可以通过参数 maxmemory \\<bytes\\> 来设定最大运行内存，只有在 Redis 的运行内存达到了设置的最大运行内存，才会触发内存淘汰策略\r\n\r\n不同位数的操作系统，maxmemory 的默认值是不同的：\r\n\r\n1. 在 64 位操作系统中，maxmemory 的默认值是 0，表示没有内存限制，无论用户存放多少数据到 Redis 中，也不会对可用内存进行检查，直到 Redis 实例崩溃也无作为\r\n2. 在 32 位操作系统中，maxmemory 的默认值是 3 G，因为 32 位的机器最大只支持 4 GB 的内存，而系统本身就需要一定的内存资源来支持运行\r\n\r\n## Redis 内存淘汰策略有哪些\r\n\r\n1. 不进行数据淘汰的策略\r\n\t1. **noeviction**（Redis 3.0 之后，默认的内存淘汰策略）：表示当运行内存超过最大设置内存时，不淘汰任何内存，而是不再提供服务，直接返回错误\r\n2. 进行数据淘汰的策略\r\n\t1. 在设置了过期时间的数据中进行淘汰\r\n\t\t1. **volatile-random**：随机淘汰设置了过期时间的任意键值\r\n\t\t2. **volatile-ttl**：优先淘汰更早过期的键值\r\n\t\t3. **volatile-lru**（Redis 3.0 之前，默认的内存淘汰策略）：淘汰所有设置了过期时间的键值中，最久未使用的键值\r\n\t\t4. **volatile-lfu**（Redis 4.0 后新增的内存淘汰策略）：淘汰所有设置了过期时间的键值中，最少使用的键值\r\n\t2. 在所有数据范围内进行淘汰\r\n\t\t1. **allkeys-random**：随机淘汰任意键值\r\n\t\t2. **allkeys-lru**：淘汰整个键值中最久未使用的键值\r\n\t\t3. **allkeys-lfu**（Redis 4.0 后新增的内存淘汰策略）：淘汰整个键值中最少使用的键值\r\n\r\n## 如何查看当前 Redis 使用的内存淘汰策略\r\n\r\n```shell\r\n> config get maxmemory-policy\r\n1) \"maxmemory-policy\"\r\n2) \"noeviction\"\r\n```\r\n\r\n## 如何修改 Redis 的内存淘汰策略\r\n\r\n1. 通过 **config get maxmemory-policy \\<策略\\>** 命令设置。优点是设置后立即生效，不需要重启服务，缺点是重启后设置就会失效\r\n2. 通过修改配置文件，设置 **maxmemory-policy \\<策略\\>**，优点是重启后配置不会丢失，缺点是重启后才能生效\r\n\r\n## LRU 和 LFU 的区别\r\n\r\n### LRU\r\n\r\n#### 什么是 LRU\r\n\r\nLRU 全称是 Least Recently Used 最近最少使用，会选择淘汰最近最少使用的数据\r\n\r\n传统 LRU 算法基于 **链表** 结构实现，链表中的元素按照操作顺序从前往后排列，最新操作的键会被移动到表头，当需要内存淘汰时，只需要删除表尾的元素即可。但传统的 LRU 算法存在两个问题：\r\n\r\n1. 需要用链表管理所有的缓存数据，会带来额外的空间开销\r\n2. 当有数据被访问时，需要在链表上把该数据移动到表头，如果有大量数据被访问，就会带来很多链表移动操作，会很耗时，进而降低 Redis 缓存性能\r\n\r\n#### Redis 如何实现 LRU\r\n\r\nRedis 实现的是一种 **近似 LRU 算法**，目的是为了更好地节约内存，实现方式是在 Redis 的对象结构体中添加一个额外的字段，用于记录此数据的最后一次访问时间\r\n\r\n当 Redis 进行内存淘汰时，会使用 **随机采样** 的方式来淘汰数据，随机取 5 个值（可配置），然后淘汰最久没有使用的那个\r\n\r\n##### Redis 实现的 LRU 的优点\r\n\r\n1. 不用为所有数据维护一个大链表，节省了空间占用\r\n2. 不用在每次数据访问时都移动链表项，提升了缓存性能\r\n\r\n但是 LRU 算法 **无法解决缓存污染问题**，比如应用一次读取了大量数据，而这些数据只会被读取这一次，那么这些数据会留存在 Redis 缓存中很长一段时间，造成缓存污染\r\n\r\n### LFU\r\n\r\n#### 什么是 LFU\r\n\r\nLFU 全称是 Least Frequently Used 最近最不常用，根据数据访问次数淘汰数据，核心思想是如果数据过去被访问多次，那么将来被访问的频率也更高\r\n\r\nLFU 会记录每个数据的访问次数，当一个数据被再次访问时，就会增加该数据的访问次数\r\n\r\n#### Redis 如何实现 LFU\r\n\r\n```C\r\ntypedef struct redisObject {\r\n\t...\r\n\t// 24 bits，用于记录对象的访问信息\r\n\tunsigned lru:24;\r\n\t...\r\n} robj;\r\n```\r\n\r\nRedis 对象头中的 lru 字段，在 LRU 算法和 LFU 算法下使用方式并不相同\r\n\r\n1. 在 LRU 算法中，Redis 对象头的 24 bits 的 lru 字段是用来记录 key 的访问时间戳\r\n2. 在 LFU 算法中，Redis 对象头的 24 bits 的 lru 字段被分为两段存储，高 16 bit 存储 ldt(Last Decrement Time)，低 8 bit 存储 logc(Logistic Counter)\r\n\t1. ldt 是用来记录 key 的访问时间戳\r\n\t2. logc 是用来记录 key 的访问频次，值越小表示使用频率越低，越容易被淘汰，每个新加入的 key 的 logc 初始值为 5，**logc 会随时间推移而衰减**\r\n\r\nRedis 在访问 key 时，对于 logc 是这样变化的：\r\n\r\n1. 先按照上次访问距离当前的时长，对 logc 进行衰减\r\n2. 然后再按照一定概率增加 logc 的值\r\n\r\nredis.conf 提供两个配置项，用于调整 LFU 算法从而控制 logc 的增长和衰减：\r\n\r\n1. **lfu-decay-time**：用于调整 logc 的衰减速度，以分钟为单位，默认值为 1，lfu-decay-time 值越大，衰减越慢\r\n2. **lfu-log-factor**：用于调整 logc 的增长速度，lfu-log-factor 值越大，logc 增长越慢","embedding":[-0.01386641,0.02030799,-0.023190813,0.0069633056,0.0130548,-0.032467823,-0.022788027,0.020809526,-0.016404351,-0.023411507,-0.027383959,-0.026468914,-0.036939293,0.014002151,0.033899486,-0.027686914,-0.017889034,-0.015561934,0.009739386,-0.021748861,-0.0023902229,0.023191947,0.021038523,0.01220693,-0.03352716,0.048985545,-0.015221534,-0.014048938,-0.019250646,0.06032799,0.029672861,0.021140024,0.027593456,-0.018333877,0.0070907813,-0.021329084,0.013087445,-0.019421699,-0.042967808,0.017103834,0.043554608,0.034055285,-0.009818838,-0.048289556,0.02932873,-0.0054188087,0.018965935,-0.062138204,-0.0006645605,-0.017054938,0.014104701,-0.0057966327,-0.0022450793,0.014600548,-0.0034142607,0.015874462,-0.05582495,-0.052501578,0.010798531,0.0053865663,-0.0012841757,-0.027266819,-0.0394665,0.0116952015,-0.03363298,0.044436585,-0.009223858,0.026122006,0.008584961,-0.040468115,-0.027712174,0.006069019,-0.015513656,-0.059054933,-0.03971511,-0.030035289,0.0045044627,0.01412707,0.016994344,-0.010832061,0.018198192,-0.020417325,0.051073786,0.0003801656,0.0098732915,0.057877943,-0.018149288,-0.0148461545,-0.03280826,0.042923186,-0.0046252585,0.035374932,0.013370668,-0.023303932,0.011559467,-0.001063833,0.015619252,0.014251681,0.0015441532,-0.0007143557,-0.013411972,0.0223077,-0.00932739,0.026069516,0.022796312,0.06178397,0.033392128,0.06897981,0.0016943191,-0.026808452,0.047080953,0.013694546,0.017336795,0.009078249,0.03136763,-0.029373547,-0.080092125,-0.022317184,0.03609363,0.0012930998,0.012504058,0.024324939,0.04101528,0.004841892,-0.050933972,0.01493665,0.033477128,0.014084178,0.0052376627,0.0016096493,0.055392124,0.057603884,0.015986986,-0.0019971346,-0.04616442,-0.01708244,0.020660006,-0.016530072,0.057750612,0.009308694,0.013916349,-0.04159833,-0.010516265,-0.014330753,-0.028910147,0.02187131,0.011702098,-0.029581575,0.0023309041,-0.0053453273,-0.019437823,-0.053110395,0.016135521,0.017172156,-0.052422848,0.027634908,0.023206163,0.009149244,-0.050348796,-0.003627397,0.030185802,-0.024034288,-0.014688143,-0.018289799,0.021741848,0.01766285,-0.005119075,-0.03419158,0.0074151033,-0.0071523427,-0.010124555,-0.077132486,-0.010396482,-0.0029014228,0.021164797,0.0028594339,0.08591573,0.024090664,-0.011956065,-0.0064763753,-0.031689335,0.01645526,0.005490607,-0.014072485,0.01085753,0.0077151572,-0.008477,-0.0048335963,0.007345028,0.0010993743,-0.0022760446,-0.033382446,0.040099345,0.026495548,-0.03707525,-0.026045568,0.030488329,0.023283534,-0.0031250373,-0.035171624,-0.020515392,-0.02070216,0.0053686765,0.01755647,0.00089878857,0.010261611,0.0012656656,-0.0646052,0.021043,0.001107691,-0.022310255,-0.011811145,-0.035329334,0.04011602,-0.010438778,-0.008426185,-0.0015294031,0.021999924,0.016820256,-0.04599714,-0.048154835,0.04919701,-0.020426774,-0.03614998,-0.0077963583,0.026765835,-0.014989237,0.0741606,0.041178,-0.015644126,-0.021004377,-0.01688838,0.02300525,-0.027642345,0.016271811,-0.005487343,-0.038802497,-0.01298946,-0.015982445,0.018176574,0.0067798044,-0.03983677,0.046682928,-0.002781017,-0.020091081,-0.0008265066,-0.02285087,0.04047452,-0.00890845,-0.023960281,0.003112742,-0.018905185,-0.04446247,-0.028410068,-0.026680393,0.0006122743,-0.04338055,0.0021791952,0.025183596,0.034184754,-0.006058282,0.010871331,0.02044181,0.020555295,-0.028095381,-0.01085816,0.060705844,-0.048275664,-0.0023714374,0.032795884,0.031430986,-0.008522158,0.0026148215,0.011091727,-0.022384508,0.0112099685,0.03523273,-0.014127161,0.032349497,-0.005450149,-0.046735503,-0.03226636,0.013072926,-0.02257644,-0.024595689,0.030172076,0.0023753045,0.051718622,-0.0006214927,0.021739,-0.014799209,-0.05442686,0.04204198,-0.039791327,-0.058340646,-0.010527024,0.009473951,-0.14680545,0.018882254,-0.0036388664,0.04693517,-0.011314551,-0.022459282,0.005603726,-0.0107281795,-0.0099844355,-0.062958546,-0.005370229,-0.09662864,-0.04473121,-0.023479974,-0.012827413,0.004088122,-0.0155110955,-0.01672251,-0.0048815366,-0.054476812,0.015634386,-0.017747167,0.0063877385,0.016818268,-0.035243314,0.025685823,0.034761846,-0.042353604,-0.05340377,-0.023039114,0.022124333,0.09022891,0.017878203,-0.010704856,0.015851751,-0.01994977,0.01719404,0.03826859,-0.009845903,0.004083263,-0.008554171,0.0060798344,-0.013336378,-0.026131602,0.061883066,-0.053165622,-0.0058589056,-0.0133097265,-0.012496764,0.032264527,0.040000528,0.006407661,0.0116634285,0.029541625,-0.012761077,-0.0027516983,-0.004491934,-0.006279292,-0.013755372,0.0136378445,0.007841012,-0.030876042,-0.033686467,-0.021670718,0.029024376,-0.048761576,0.010860425,0.0038275328,-0.026141327,-0.02503369,0.04601293,0.0048735533,0.01986318,-0.03564244,0.0075733294,0.016522566,-0.056492038,0.0012768199,0.0020364418,-0.071736924,-0.039633293,0.00014177148,0.006646597,-0.01937145,-0.017094664,0.03512543,0.02057904,0.032768376,0.015276507,0.42545548,0.010321401,-0.064624086,-0.02523501,0.018375972,-0.0045547616,-0.0024695818,-0.014704346,-0.0075610736,-0.011255384,-0.01942171,0.024072448,-0.011456969,0.0152004855,0.014319572,0.048684623,-0.020048665,0.0053589237,-0.006146693,-0.006724613,-0.01201383,0.020203644,0.024457365,0.02816011,-0.05330667,0.016911639,-0.021596856,0.01253364,-0.011991871,0.008199513,-0.0052268407,0.047474198,-0.02265941,0.01598605,-0.032026242,-0.01037398,-0.018531302,-0.046550386,-0.01837128,0.0010575874,0.0063785566,-0.01733297,-0.018533312,-0.04372344,-0.020208627,-0.027103808,0.040692933,-0.0016965509,-0.02200795,-0.007792958,0.03793337,-0.05444906,-0.008001196,-0.020522028,0.048831083,-0.019364662,-0.014355514,-0.021300348,0.007990368,0.03213344,0.0132864,0.05754167,0.015455939,0.07345731,0.0034916196,0.051919244,0.037377875,0.020420223,0.005839906,0.03408189,-0.0010826597,0.02299372,-0.0015512072,-0.0019396493,-0.068339184,-0.029039307,0.05791137,0.0014422951,0.005330064,0.04099336,-0.0011462765,0.012332541,0.003947935,0.05137397,0.023591068,-0.027429035,-0.027665045,0.077787615,-0.011808609,-0.043503873,-0.012866396,-0.049739253,-0.060256027,-0.029364478,0.025910404,0.04239674,-0.024245348,-0.017886182,-0.022511264,-0.018498318,-0.009504347,0.0026282822,-0.020535918,-0.010563788,-0.04046981,0.029683072,0.0066931234,0.031040087,0.029232984,0.02373449,-0.050443325,0.010770888,-0.007718962,0.007993347,0.001343737,0.015519871,0.047593635,0.055355705,0.025509642,-0.016682446,-0.006779022,0.039603524,0.014614602,-0.0006135609,0.0040904093,-0.035913136,-0.03362022,-0.023173679,-0.04014218,0.009936579,0.050144173,0.038924094,0.0035172284,0.0077406093,0.033665672,-0.03694086,0.011236356,0.03087565,0.0021447393,0.049554564,0.0053977636,-0.02594183,-0.014517187,0.0010248817,-0.031261217,0.046717234,0.0064095156,0.047271434,0.013864145,-0.030529764,0.02666693,0.059139013,0.011487917,-0.001363464,-0.011517085,0.010361206,0.007813518,-0.020734109,-0.030557794,-0.0075148577,-0.016881565,-0.005794273,0.0070605106,0.026387725,-0.023576709,0.009845368,-0.006080975,0.054818932,-0.050041843,-0.008614267,-0.031444177,0.0033879534,0.016357215,0.025831567,-0.05916922,-0.037325043,-0.070691995,-0.016127111,0.035758823,-0.036809396,0.017742418,0.032162968,0.008462935,-0.034006644,-0.0035473343,0.009463482,0.019087918,0.0013897596,-0.0003214686,-0.05719191,-0.010830032,0.06634375,0.013505782,0.009228233,0.01506281,0.006495723,-0.0022193382,0.037627757,0.039744787,-0.035055287,0.014130325,0.0041157543,-0.0075478563,0.042138472,-0.0073638577,-0.010636612,-0.032019816,0.024333764,-0.020835185,-0.02571392,-0.007704885,0.012345559,-0.0073417206,-0.016392926,0.011513636,-0.02645524,0.030440256,0.068324395,0.021188907,0.02048166,-0.05961317,-0.02399215,0.016204754,-0.028818732,-0.0166691,0.015420426,0.0026864472,-0.021249639,-0.04330225,-0.0141556505,-0.02862973,-0.043508355,-0.01272325,-0.027896388,-0.02404939,-0.0332664,-0.004424755,0.030237917,0.05217024,-0.02003277,0.009908386,-0.016817028,0.018922742,0.03590179,0.008117346,0.023242632,0.008238165,-0.008771171,0.036886938,0.013883029,0.022352621,-0.0060123974,0.009305563,0.0014577523,0.019598616,0.038189676,-0.008957547,-0.0023973712,0.028960193,-0.042623427,0.0138203325,-0.0048522535,-0.026998315,0.014294703,0.0009385272,-0.01759352,-0.047081344,0.019493889,-0.024978386,-0.049570557,0.028360775,-0.0035839055,0.018689977,-0.024180625,0.038948167,-0.001537639,0.020474352,-0.00007603201,-0.053836048,-0.0076080416,-0.05536118,0.0038260275,0.054311927,-0.00551387,-0.026876394,0.019579291,-0.03148998,0.017041527,0.0064628012,0.0044878945,0.04587185,0.005135964,-0.045658097,0.016946353,0.011514979,0.03395965,-0.012582674,0.048036046,0.03438365,0.0034361356,-0.010246777,-0.014894102,-0.025062596,-0.009572766,-0.042086393,0.03481502,-0.03412818,-0.029485323,0.041487698,-0.0044896137,0.03816744,-0.008950933,-0.0035740915,-0.038521614,-0.040864438,0.04153705,0.01703706,-0.027112642,0.023090836,-0.0012219659,0.03785317,0.018668769,-0.034129333,0.009603861,0.00641142,-0.016335273,-0.04508162,-0.037902802,-0.036628168,-0.047297314,0.0033420746,0.0037403468,0.037247743,-0.008005438,-0.012172493,0.00073830155,0.042849325,-0.015560045,-0.037997413,-0.0289895,0.012512641,0.025171442,0.0704421,-0.0044863885,-0.0052091703,0.029947,0.012075519,-0.024492314,-0.0121410135,-0.03672124,0.03720148,0.024454912,-0.031316306,-0.027572228,0.04397044,-0.02304296,0.095830284,0.044474356,0.03024011,-0.041465126,0.005731094,0.024671204,-0.01664351,-0.012271639,0.010407997,-0.03076787,0.037671063,0.0016659916,0.007652964,0.00766247,0.0236148,0.0041076927,-0.0821201,-0.022881867,-0.025577767,0.009422027,-0.011190581,0.020002456,-0.00087517616,-0.029214531,-0.044122208,-0.008084264,-0.025109384,-0.048459563,-0.027654352,0.009076679,-0.024287777,0.018635571,-0.015864357,-0.00023296713,0.018116875,-0.000116213356,0.0012108478,0.020993637,-0.06564055,-0.024948059,-0.025181329,-0.0014370651,0.015895495,0.018278336,-0.011740269,-0.06117637,-0.008775882,-0.0050116167,0.057738256,-0.0071756793,0.023438765,-0.0412936,-0.02417282,0.02353495,-0.0394808,-0.007643758,0.025445286,-0.006601181,-0.020078124,-0.0009901638,-0.037227683,-0.015396092,0.011551142,0.010245053,0.021593656,-0.006668589,0.015143762,-0.017489184,0.00399142,-0.015279232,-0.014249081,0.056813993,0.002801191,-0.01959698,-0.0051447335,-0.00070180814,-0.0055448976,0.00438336,0.0034471438,-0.032766663,-0.0048411083,0.001556976,-0.0038891155,0.008955684,0.0077417805,-0.015948424,0.012093094,-0.00865302,-0.0022114415,0.026931474,-0.034676883,0.012694874,0.03633117,-0.0021964153,-0.0069426736,0.008571029,-0.027656151,0.03348629,0.0023675233,-0.014917944,-0.055124164,-0.065703765,-0.0071162977,-0.011143133,-0.061437283,-0.000055377626,0.0008251469,0.01800946,-0.02984541,-0.0024652695,0.039999492,0.0022925767,0.015192665,-0.014107838,0.036215525,-0.0020342239,0.028480574,0.009654872,-0.00094562175,-0.023420881,0.015596394,0.0030441398,0.06933085,0.011668922,0.02315311,0.025643518,-0.02207688,-0.04853545,0.029250193,-0.009069745,-0.038185913,0.004284269,-0.02022578,-0.010539451,-0.014005561,0.011211729,0.000021217422,-0.03466945,0.00007307202,0.054393817,0.008236301,0.0054659774,-0.0077809836,-0.01618743,0.022098659,-0.0051026354,0.0027039784,0.004426049,-0.019418718,0.005223556,-0.028895585,-0.0064384025,-0.027144883,-0.0260373,-0.00006877912,-0.006971855,0.001672973,-0.032984436,0.010200414,-0.06721669,0.013490957,-0.059323244,-0.01930817,0.04347713,0.00975314,0.009584932,0.030596986,-0.025600165,0.005915973,-0.03877843,-0.028893808,0.0438953,0.03617622,-0.0029703833,-0.008006516,0.066275485,0.016856689,-0.0155315185,0.0052232356,0.024640655,-0.034689736,0.01764254,-0.0059394436,-0.019737767,0.034126934,0.016239153,-0.025562657,-0.020590205,-0.042946346,0.0034767038,-0.0033967572,0.036139853,-0.0356307,-0.015922803,-0.0048949365,-0.006951879,-0.03597898,-0.020439677,0.014794645,-0.015641639,-0.019321023,0.02327967,0.007609632,0.013287033,0.011759422,-0.01928391,0.012215923,-0.032260876,-0.0056791836,0.015020997,-0.026543092,-0.020097164,0.049861234,-0.010476092,0.0054112766,0.038387947,0.021304129,-0.010975038,-0.013079814,-0.002133111,-0.027478999,0.03968608,-0.011734423,-0.008413565,0.008881753,0.022681694,-0.0122839445,-0.007049075,-0.009126073,0.021004478,0.019185461,0.013528337,-0.022696568,0.015970564,-0.004381338,-0.022620093,0.010303081,0.018251173,-0.015056417,-0.01442901,-0.0009630132,-0.009065701,0.0012640039,-0.026534703,-0.018716868,-0.015970526,-0.0016018345,0.0046514263,-0.03815379,0.0066948114,-0.005071089,0.009637847,-0.018285308,0.022916412,0.004637444,0.0021417728,0.01750827,0.042574443,0.036019348,0.016823076,-0.021673078,-0.034961633,-0.034672696,-0.016198015,-0.014934024,-0.022138933,0.056495372,0.05305075,-0.003538349,0.04627812,-0.0056692767,0.04222625,-0.041576978,0.005156361,0.0400445,-0.01514671,-0.048193637,0.017002765,0.014903824,0.019331798,-0.008987074,0.015429563],"created_at":1746088925217,"nchars":2936}},"count":1}}