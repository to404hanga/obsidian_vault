{"index":{"vectorIndexes":{"embedding":{"size":1024,"vectors":{"7afb3aa06c849214862fc3641959d7eb":[1.0000001642815202,[0.013360494747757912,0.022019196301698685,-0.03295682743191719,0.018305735662579536,0.01036821212619543,-0.03894911706447601,0.03969797492027283,0.07945969700813293,-0.0184786356985569,-0.0014523558784276247,-0.004514158703386784,0.011149134486913681,-0.01415165513753891,0.03283408284187317,-0.016793079674243927,-0.013988463208079338,-0.0030623492784798145,0.0005091038765385747,-0.022301413118839264,-0.0015441877767443657,-0.04275047779083252,0.006418291013687849,0.014494472183287144,-0.018540075048804283,-0.013228627853095531,0.0561927855014801,-0.014696563594043255,-0.04881345480680466,-0.00912048015743494,0.015762927010655403,0.04645876958966255,-0.012107868678867817,-0.0035203127190470695,-0.0344674177467823,-0.00561324181035161,-0.05973709002137184,-0.004241269081830978,-0.029645172879099846,-0.09348907321691513,-0.0056344387121498585,0.012160444632172585,-0.015284663997590542,-0.029153015464544296,0.00785713642835617,-0.0041395267471671104,-0.001818489865399897,-0.013255753554403782,-0.06636692583560944,-0.015430983155965805,-0.014309149235486984,-0.04812568053603172,-0.011129716411232948,-0.005342203192412853,-0.03054908849298954,-0.004221710842102766,0.04710880666971207,0.009101681411266327,-0.003815680043771863,0.012148342095315456,-0.0038220819551497698,0.010901089757680893,-0.011470427736639977,0.00048160768346861005,-0.008479944430291653,-0.030532067641615868,0.0163674745708704,0.009061009623110294,0.03847859054803848,0.024350890889763832,-0.048917364329099655,0.006457249168306589,0.028750166296958923,-0.04082701355218887,-0.061281587928533554,0.005904319230467081,-0.006950713694095612,0.014057628810405731,0.008445560932159424,0.004316053818911314,-0.0441676564514637,0.10556276887655258,-0.04404282942414284,0.020582735538482666,-0.017724115401506424,-0.03648543730378151,-0.032347843050956726,-0.02965417318046093,0.044406089931726456,0.019681284204125404,0.015432720072567463,0.016943322494626045,0.04246243089437485,-0.00006643021333729848,-0.05955400690436363,-0.0017347047105431557,-0.007797400001436472,-0.002686740830540657,-0.018179265782237053,0.04776851832866669,-0.00552833266556263,-0.03459819778800011,0.0033736524637788534,0.005662169773131609,0.031216265633702278,0.02969265729188919,0.0005511656636372209,-0.004990919027477503,0.022548047825694084,-0.027663879096508026,0.013967928476631641,-0.029323091730475426,-0.018887657672166824,-0.019542204216122627,0.014643775299191475,-0.001734908320941031,-0.01083146408200264,-0.02437463402748108,-0.011361668817698956,0.017564885318279266,-0.0011511240154504776,0.009818664751946926,0.06494612991809845,0.016963517293334007,-0.007365647237747908,0.006018891464918852,0.0087248794734478,-0.024111544713377953,0.052740879356861115,-0.06302579492330551,0.005561976693570614,0.004612338729202747,0.021833255887031555,0.051887646317481995,-0.027073882520198822,-0.031895339488983154,-0.010302042588591576,0.037883058190345764,0.07575204968452454,0.054261185228824615,-0.041823092848062515,0.012028736062347889,0.014493287540972233,-0.025535043329000473,-0.010159322991967201,0.05983693152666092,0.005093720741569996,0.011021253652870655,0.013023842126131058,-0.03330221772193909,0.04138847067952156,-0.026844331994652748,-0.0420539528131485,-0.001546091167256236,-0.009326235391199589,0.01398703083395958,0.004823192022740841,0.022242143750190735,-0.005542863626033068,0.007689555175602436,-0.028195209801197052,-0.004111269023269415,-0.013711902312934399,0.004028392489999533,0.07197459787130356,0.026300830766558647,0.011996723711490631,0.012186185456812382,0.007571374531835318,-0.007567166816443205,-0.017701605334877968,0.004119563847780228,-0.0712462067604065,0.021428627893328667,-0.0022013818379491568,0.02909257635474205,0.06079840660095215,0.052208300679922104,0.02400030754506588,0.007004859857261181,-0.031031286343932152,-0.016411133110523224,0.0053911032155156136,0.03581662476062775,-0.04632233455777168,0.02722672000527382,-0.0061049372889101505,0.0014689065283164382,-0.003684691619127989,0.00399023899808526,0.06838440895080566,-0.006662953179329634,-0.032652925699949265,0.05338578671216965,0.009811321273446083,-0.005555284209549427,-0.02080361917614937,-0.018820853903889656,0.004073887597769499,0.055571772158145905,-0.04982694983482361,-0.02456831932067871,0.018444446846842766,-0.034613847732543945,0.03651409596204758,-0.0066350530833005905,0.007918722927570343,-0.013871771283447742,-0.05887287110090256,0.01532256044447422,0.019839942455291748,0.030382119119167328,0.006074942648410797,-0.020117510110139847,0.01480620726943016,-0.012726954184472561,-0.015577523969113827,0.007116368040442467,0.007781307678669691,0.024102116003632545,0.005310567561537027,-0.002288837917149067,-0.022876575589179993,-0.00819796696305275,-0.018323931843042374,0.03402557224035263,0.027031123638153076,0.02983657829463482,0.04740862548351288,0.020585937425494194,0.011646329425275326,-0.0552763007581234,0.09010065346956253,-0.027371760457754135,-0.01991250179708004,-0.0032135657966136932,0.019562089815735817,-0.0409964993596077,0.00016685080481693149,0.039275236427783966,0.028844699263572693,-0.01583690196275711,-0.05821261927485466,-0.009726576507091522,-0.041897132992744446,-0.05412733182311058,0.026373811066150665,0.005452561192214489,0.012871143408119678,-0.023028986528515816,-0.0046960762701928616,-0.04846534878015518,-0.021208785474300385,0.0086040198802948,-0.035212192684412,-0.011931898072361946,-0.0822836235165596,-0.023564772680401802,-0.017720302566885948,0.030899567529559135,0.02211015112698078,0.028297627344727516,-0.01894981414079666,-0.00960569828748703,0.03675132989883423,-0.032628800719976425,-0.005555444397032261,-0.01849726401269436,-0.04122234135866165,0.004649471957236528,0.06232631206512451,-0.026855893433094025,0.01698935590684414,-0.033101726323366165,0.006979131605476141,-0.01633458025753498,-0.012547614052891731,0.013052643276751041,-0.031924087554216385,0.037142373621463776,-0.008887454867362976,0.0020855888724327087,-0.008187675848603249,0.000051395883929217234,-0.026054207235574722,-0.008687186054885387,0.04271961748600006,-0.01874631643295288,-0.0048331571742892265,0.012990499846637249,-0.01765010878443718,-0.006847184617072344,0.02067132480442524,0.08560849726200104,-0.01948438212275505,0.028920697048306465,0.015607742592692375,-0.022377267479896545,-0.1937442421913147,-0.017606103792786598,0.021461058408021927,-0.019784320145845413,0.0025630760937929153,-0.013122539967298508,0.007548386696726084,0.015087754465639591,-0.0018330252496525645,-0.03849522024393082,-0.03489462658762932,-0.14225928485393524,-0.01799205131828785,-0.023994600400328636,0.03463740646839142,0.04466751217842102,0.040820132941007614,0.012212834320962429,0.010372830554842949,-0.0777733325958252,0.015179489739239216,0.014554129913449287,0.03286972641944885,0.015383927151560783,0.02981877513229847,0.0006614015437662601,0.005495950113981962,0.06415039300918579,-0.024775424972176552,0.00962642952799797,-0.033583324402570724,0.015443539246916771,-0.03851737082004547,-0.03914162516593933,0.016784200444817543,0.026972031220793724,0.019741056486964226,-0.029033606871962547,0.009196694940328598,-0.0013685687445104122,0.04345094412565231,0.02290455624461174,-0.002843034453690052,-0.07343287020921707,0.03908193111419678,-0.0019424587953835726,-0.015952441841363907,0.001581574440933764,-0.01077160146087408,0.03270416706800461,-0.004723472520709038,0.018334951251745224,0.0032557405065745115,-0.016918828710913658,-0.01980503834784031,0.015092947520315647,0.012487731873989105,0.04955273121595383,0.01725989393889904,0.017598604783415794,-0.010953071527183056,-0.048721056431531906,-0.040721096098423004,-0.009619513526558876,0.013812138698995113,-0.005834251642227173,0.0017705566715449095,-0.017698127776384354,0.009791150689125061,-0.048965614289045334,0.017071828246116638,0.003585430094972253,-0.03017481602728367,-0.03139348328113556,-0.024155139923095703,0.0005923762801103294,0.0008187756175175309,-0.019588977098464966,-0.035814497619867325,-0.0739918127655983,0.014107415452599525,0.007233424577862024,-0.033834125846624374,0.013982731848955154,-0.016335485503077507,0.01881568692624569,-0.0605192705988884,-0.047088246792554855,0.011777962557971478,0.3156348168849945,-0.031703632324934006,-0.028275828808546066,0.022284431383013725,0.014570732600986958,0.02387128584086895,0.013527892529964447,0.007946892641484737,0.017720112577080727,-0.00827158335596323,-0.004806223325431347,-0.006112836301326752,-0.0036678670439869165,0.03197504207491875,-0.000111102890514303,0.0375932939350605,-0.026864968240261078,0.007150993682444096,0.0003285254933871329,-0.012748794630169868,0.022246910259127617,-0.03344794735312462,0.00889979675412178,0.01948082074522972,-0.03269263356924057,0.02291826903820038,0.017835460603237152,0.007315549533814192,-0.06359069049358368,-0.003265062812715769,-0.01380310207605362,0.011677187867462635,-0.016469744965434074,-0.04651106521487236,-0.031072676181793213,0.03080437146127224,-0.0789073035120964,-0.04226228967308998,-0.016478316858410835,0.017193982377648354,0.029462091624736786,-0.02142893709242344,-0.017399735748767853,0.001254369388334453,-0.0357995443046093,-0.03360157832503319,-0.017379550263285637,-0.02145053632557392,-0.030357370153069496,-0.0381915457546711,-0.0032250192016363144,-0.02685074880719185,-0.029750661924481392,0.02295478992164135,-0.00961159635335207,0.0028607447165995836,-0.03473195433616638,0.010689045302569866,-0.02574884332716465,0.009671802632510662,0.007052946835756302,0.01809416338801384,-0.06630656123161316,0.04252130165696144,0.04192957282066345,0.009189627133309841,-0.029272794723510742,-0.008810915052890778,0.0014841152587905526,0.0025188373401761055,0.026600567623972893,0.03272567689418793,0.02836715057492256,-0.014755810610949993,-0.017327962443232536,-0.017881393432617188,-0.011366575956344604,0.02809852920472622,-0.024588214233517647,0.03144540637731552,-0.01821950264275074,0.009189738892018795,0.019999021664261818,0.041981834918260574,0.010159123688936234,0.04038035869598389,-0.029811687767505646,0.04185252636671066,0.001513014198280871,-0.04699347913265228,-0.0021848317701369524,-0.02698986604809761,-0.013683822937309742,-0.00014791828289162368,0.05209403857588768,-0.0005831968737766147,-0.01199567411094904,-0.05562877655029297,-0.00376869086176157,-0.014169539324939251,0.035331323742866516,0.001298371935263276,0.021652061492204666,-0.012803185731172562,-0.009639227762818336,-0.011682349257171154,0.006836774293333292,-0.02197634056210518,-0.011758306995034218,-0.0013401985634118319,-0.04149572551250458,0.022871745750308037,0.0036879293620586395,-0.008841286413371563,0.03722439706325531,0.028505394235253334,0.022156868129968643,0.042452309280633926,0.015658190473914146,0.012438265606760979,-0.040908653289079666,-0.02675444260239601,0.006770004518330097,0.010347441770136356,0.007107184734195471,-0.06845949590206146,0.02585407719016075,-0.027925141155719757,-0.03168594837188721,0.02001619152724743,0.02960333414375782,0.025375161319971085,-0.01810537837445736,-0.005840050522238016,-0.01937912032008171,-0.05148840323090553,0.01973857544362545,0.0001829073007684201,0.006253642030060291,0.023910846561193466,0.032420508563518524,-0.024054527282714844,-0.0003872367669828236,0.021226834505796432,-0.033763207495212555,-0.01512454729527235,-0.0067252893932163715,-0.01710175909101963,0.010534591041505337,-0.0172625370323658,0.005239875987172127,-0.015461070463061333,0.028813429176807404,-0.018467852845788002,-0.0160223338752985,0.0003111886326223612,0.01246415451169014,0.009592480026185513,-0.03850722312927246,-0.020837286487221718,-0.02675206959247589,0.01108395867049694,0.022085757926106453,0.057214848697185516,0.027225451543927193,0.04842652007937431,0.020562658086419106,0.05155477672815323,-0.00545326666906476,-0.009386367164552212,0.022094091400504112,-0.044487353414297104,0.009814128279685974,0.022273989394307137,0.03777647390961647,-0.049099620431661606,-0.02437846176326275,0.036948055028915405,0.026992905884981155,0.022985685616731644,0.05207150802016258,0.012870566919445992,-0.021639548242092133,0.025621501728892326,-0.03666331246495247,0.017002295702695847,-0.0028840331360697746,0.004003881011158228,0.002249588258564472,-0.009517055004835129,0.02094828151166439,0.0704658105969429,-0.00764067005366087,-0.0043886881321668625,0.021701913326978683,-0.023755090311169624,-0.0017339125042781234,0.003983968868851662,-0.014409422874450684,0.002693535527214408,0.05534478649497032,0.007932710461318493,0.0045809089206159115,0.02917294017970562,0.04621150344610214,0.005981816444545984,0.04083218425512314,0.03071376495063305,0.012853975407779217,-0.04638427495956421,0.03424213081598282,0.007122312672436237,-0.012946682050824165,-0.02251976914703846,-0.013960476033389568,-0.026975411921739578,0.05995805934071541,0.0217380840331316,0.01755344122648239,-0.019685903564095497,-0.0312032550573349,-0.02216964401304722,0.008701227605342865,-0.02819293551146984,-0.019296081736683846,0.012023895047605038,-0.0019896049052476883,-0.03175528720021248,-0.022972000762820244,0.02546987682580948,-0.018223263323307037,-0.015232883393764496,0.012611991725862026,-0.028399022296071053,-0.01009459886699915,0.0019712254870682955,0.03505392372608185,0.029220448806881905,0.01547186728566885,0.03469216078519821,-0.021645639091730118,-0.024589331820607185,0.00555978761985898,0.03652301803231239,0.0254067350178957,0.008575422689318657,-0.04656056687235832,0.034826695919036865,-0.012704743072390556,0.006553529296070337,0.007597533520311117,0.003605477511882782,-0.06109398975968361,-0.030314233154058456,0.02099328301846981,0.06845865398645401,0.017405932769179344,-0.033202365040779114,-0.02428465522825718,-0.012218176387250423,-0.01792321167886257,0.004655077122151852,0.01693454012274742,-0.005782522726804018,-0.007808162365108728,0.002537952270358801,-0.020802341401576996,-0.05576685443520546,0.0006152993883006275,-0.04975594952702522,0.00431862473487854,-0.031689222902059555,-0.02033088542521,-0.052702900022268295,-0.012016186490654945,0.005182510707527399,0.01716647483408451,-0.01332168746739626,-0.013852841220796108,0.01919376663863659,-0.08606947213411331,0.004264336545020342,0.028854617848992348,-0.004689577966928482,0.010581593960523605,0.0034810977522283792,0.003945565316826105,0.00879997480660677,-0.03634541481733322,-0.006666100118309259,0.01477853674441576,-0.0017732389969751239,-0.04817197471857071,0.01957998052239418,-0.00020899632363580167,0.04082510992884636,-0.02363717555999756,0.03721362352371216,0.020723052322864532,0.008815063163638115,0.016222750768065453,0.005244689527899027,-0.0039186677895486355,-0.020095977932214737,-0.007198760751634836,0.0548902228474617,0.0018581381300464272,-0.006918525788933039,-0.0008979871636256576,-0.012954050675034523,-0.000041198851249646395,-0.01935679279267788,-0.011109390296041965,-0.006194110028445721,-0.005237802397459745,-0.03230045363306999,-0.02612297423183918,0.020086299628019333,-0.027118777856230736,-0.005258446093648672,0.02224712073802948,0.020266123116016388,-0.023413000628352165,0.03181147947907448,-0.01747697778046131,-0.02501561865210533,-0.025423694401979446,-0.024732723832130432,0.00301411678083241,-0.01169747393578291,-0.02819865010678768,-0.0032245733309537172,0.030513722449541092,-0.01267402246594429,-0.003995518200099468,-0.0005472068442031741,0.05657673627138138,-0.006922080181539059,0.01844528131186962,0.007398358546197414,-0.03346927464008331,0.024462010711431503,-0.004837495740503073,0.006737187504768372,0.0159307811409235,0.06652768701314926,0.019357861950993538,-0.024991445243358612,-0.04313735291361809,-0.016992779448628426,0.030548090115189552,0.027743911370635033,-0.02024369314312935,0.03317275643348694,-0.014406627975404263,-0.03186999261379242,-0.0005258010351099074,0.04345725104212761,0.03522282838821411,0.007020430639386177,0.014351947233080864,0.056208182126283646,0.018185460940003395,-0.0002524498850107193,0.0013033312279731035,-0.026628248393535614,0.019415048882365227,0.009300604462623596,-0.02709250897169113,0.02931567281484604,0.002718684496358037,0.039820585399866104,-0.03775089606642723,-0.027599412947893143,-0.043676670640707016,0.007406567223370075,0.02609816938638687,0.0018932190723717213,0.01112434733659029,-0.011079033836722374,-0.027862466871738434,0.00043127956450916827,0.007944151759147644,-0.05086851865053177,0.011023973114788532,0.0031579104252159595,-0.04045495763421059,-0.016597747802734375,-0.03646588698029518,0.037764307111501694,0.007398767396807671,0.025460893288254738,0.009050600230693817,0.010209182277321815,-0.10776405036449432,0.052726808935403824,-0.018800850957632065,-0.0058889868669211864,0.027126198634505272,0.0001234966330230236,-0.012738957069814205,-0.05578472092747688,-0.013579592108726501,-0.044555921107530594,0.046252764761447906,-0.013197931461036205,0.014246571809053421,-0.04211993142962456,0.001135903294198215,-0.019707128405570984,-0.023553449660539627,0.018465153872966766,0.015530451200902462,0.005649451166391373,-0.006380847655236721,-0.050715088844299316,-0.03548271954059601,-0.0680587887763977,0.004969821311533451,0.02703397162258625,-0.01953485980629921,0.03217906504869461,0.008466295897960663,0.00811745971441269,0.004711722489446402,-0.009145833551883698,-0.022702986374497414,0.08520930260419846,0.004141165409237146,0.01823333464562893,-0.027735648676753044,-0.038181670010089874,0.019917497411370277,0.05407685786485672,0.0487084724009037,0.005549359600991011,-0.008691671304404736,0.001375121297314763,-0.019970662891864777,-0.009128302335739136,-0.03604350984096527,-0.023957112804055214,-0.032388098537921906,-0.01780756376683712,-0.12486942857503891,0.00409558555111289,0.02241503819823265,-0.024892441928386688,0.023173024877905846,0.0015583907952532172,-0.0017504483694210649,-0.023346077650785446,0.00020395356114022434,0.00886689405888319,-0.004536308813840151,0.006961380131542683,-0.0297243669629097,-0.04195073992013931,0.033170681446790695,0.007675026543438435,0.007327512372285128,0.007757660001516342,-0.030962752178311348,-0.028498688712716103,0.010688898153603077,-0.05030049756169319,0.014960807748138905,-0.018304267898201942,0.014205897226929665,-0.014038076624274254,0.05960163101553917,-0.023713795468211174,0.021296363323926926,-0.015009541064500809,-0.005525544751435518,-0.005427186843007803,-0.004213594365864992,0.0529603436589241,0.0799732655286789,-0.001055801403708756,0.01279477123171091,-0.00659592542797327,-0.0028993049636483192,-0.03628930449485779,-0.05016304552555084,0.02892846055328846,0.01883826032280922,0.02927497960627079,-0.024205893278121948,-0.008954240009188652,0.015826718881726265,-0.016702959313988686,0.028163302689790726,0.0006765044527128339,0.02523641474545002,0.03592337667942047,0.004890806507319212,0.002040680032223463,0.011583417654037476,-0.008943160064518452,-0.05650237575173378,0.015142581425607204,-0.041920602321624756,-0.00029970804462209344,0.009706283919513226,-0.05773913487792015,-0.04543459787964821,0.022632600739598274,-0.04164824262261391,-0.015042921528220177,-0.0023694143164902925,0.031511738896369934,-0.011062144301831722,-0.011001414619386196,0.035757776349782944,0.042430855333805084,-0.00757392356172204,-0.06346704810857773,0.03434612601995468,-0.02275308035314083,0.0042505692690610886,0.021086402237415314,0.03589500114321709,-0.01757052168250084,0.05398204177618027,-0.007841900922358036,-0.051155176013708115,0.0018410905031487346,0.005557337775826454,-0.013652758672833443,-0.02433985471725464,0.09302110970020294,-0.0002610428782645613,-0.03193044662475586,-0.016857922077178955,0.003940435592085123,-0.00095617730403319,-0.04717734828591347,-0.05473032593727112,-0.0016098947962746024,0.013801421038806438,-0.02649078331887722,-0.008491347543895245,0.002096121199429035,-0.016918858513236046,0.0031752418726682663,0.022835547104477882,0.013939053751528263,-0.027134016156196594,-0.005211344920098782,-0.000585848989430815,-0.05302879214286804,-0.026273855939507484,0.05342859774827957,0.0038031339645385742,0.0012747441651299596,0.0007526871049776673,-0.015767468139529228,-0.05184983089566231,-0.0021845130249857903,-0.03014400042593479,-0.022659212350845337,0.038320381194353104,0.015266481786966324,-0.00442910473793745,0.060942232608795166,0.00687230983749032,0.061273690313100815,0.028151854872703552,-0.026586150750517845,0.009686402045190334,-0.004603322129696608,0.059989526867866516,0.01419245544821024,-0.010670325718820095,-0.02804466336965561,0.02492067776620388,0.008548468351364136,0.02740793116390705,-0.0019498688634485006,0.03050859086215496,0.018393924459815025,-0.0344010628759861,0.015449212864041328,-0.009316425770521164,0.02966596931219101,0.02404034323990345,0.0352075956761837,0.021685922518372536,-0.05645601451396942,0.01885601505637169,-0.004678624682128429,0.0012969812378287315,0.006516711786389351,-0.047777365893125534,-0.061462122946977615,-0.033793509006500244,-0.0018631042912602425,0.0033159488812088966,0.024144446477293968,-0.017554940655827522,-0.0005984784802421927,-0.01816502958536148,0.02298155054450035,-0.019127320498228073,0.024550003930926323,0.017435694113373756,0.04555652290582657,0.044950537383556366,-0.016661040484905243,0.005255076568573713,0.010562884621322155,0.03224252536892891,-0.015152676962316036,-0.0016499565681442618,0.04411960393190384,-0.01700676418840885,-0.025152379646897316,-0.0031675840727984905,-0.026875803247094154,0.00023621245054528117,0.026160096749663353,-0.024729300290346146,-0.03852624446153641,0.014489501714706421,0.022980162873864174,0.003985944204032421,0.04458537697792053,0.027654249221086502,0.01626051589846611,-0.01564934477210045,0.048023249953985214,0.007740888278931379,0.02082115225493908,-0.02640986256301403,-0.008170357905328274,0.03819849342107773,0.0325300469994545]]}}}},"docs":{"docs":{"1":{"title":"缓存雪崩、穿透、击穿","path":"redis/缓存雪崩、穿透、击穿.md","embeddingModel":"bge-m3","ctime":1745723756064,"mtime":1745730958792,"tags":[],"extension":"md","metadata":{"created":"2025/04/27 11:15:56","modified":"2025/04/27 13:15:58"},"id":"7afb3aa06c849214862fc3641959d7eb","content":"\n\nNOTE TITLE: [[缓存雪崩、穿透、击穿]]\n\nMETADATA:{\"created\":\"2025/04/27 11:15:56\",\"modified\":\"2025/04/27 13:15:58\"}\n\nNOTE BLOCK CONTENT:\n\n## 缓存雪崩\n\n### 原因\n\n1. 大量缓存数据同时过期\n2. redis 故障\n\n### 应对策略\n1. 大量数据同时过期\n\t1. **均匀设置过期时间** ：给缓存数据的过期时间加上一个随机数\n\t2. **互斥锁** ：当业务线程在处理用户请求时，**如果发现访问的数据不在 redis 中，就加个互斥锁，保证同一时间内只有一个请求构建缓存**，当缓存构建完成后，再释放锁。未能获取互斥锁的请求，要么等待锁释放后重新读取缓存，要么就返回空值或默认值。（互斥锁最好设置**超时时间**）\n\t3. **双 key 策略** ：使用两个 key 缓存数据，一个是**主 key**，会设置**过期时间**；一个是**备 key**，不会设置过期时间。当业务线程访问不到**主 key** 的缓存数据时，就返回**备 key** 的数据，更新缓存时，同时更新主备 key 的数据\n\t4. **后台更新缓存** ：业务线程不再负责更新缓存，缓存也不设置有效期，而是让缓存永久有效，并让更新缓存的工作交由后台线程定时更新。后台更新缓存的机制适合做**缓存预热**，当缓存数据被淘汰时，有两种方式解决：\n\t\t1. 后台线程不仅负责定时更新缓存，而且也负责**频繁地检测缓存是否有效**，检测到缓存失效了，便从数据库读取并更新。检测间隔应为**毫秒级**\n\t\t2. 业务线程发现缓存数据失效后，通过**消息队列**通知后台线程更新缓存。\n2. redis 故障宕机\n\t1. **服务熔断或请求限流机制** \n\t\t1. 启用**服务熔断**机制，暂停业务应用对缓存服务的访问，直接返回错误。\n\t\t2. 启用**请求限流**机制，只允许少量请求发送到数据库，再多的请求直接在入口拒绝服务。\n\t2. **构建 redis 缓存高可靠集群** ：主从节点\n\n## 缓存击穿\n\n### 原因\n\n1. 热点数据缓存过期\n\n### 应对策略\n\n1. **互斥锁** ：保证同一时间内只有一个业务线程更新缓存，未能获取互斥锁的请求，要么等待锁释放后重新读取内存，要么就返回空值或默认值。\n2. **永久有效** ：不给热点数据设置过期时间，由后台异步更新缓存，或者在热点数据准备过期前，提前通知后台线程更新缓存以及重新设置过期时间。\n\n## 缓存穿透\n\n### 原因\n\n1. 数据既不在缓存，也不在数据库\n\n### 应对策略\n\n1. **限制非法请求** ：在 api 入口处判断请求参数是否合理、是否含有非法值、请求字段是否存在，如果判断出是恶意请求就直接返回错误，避免进一步访问缓存或数据库。\n2. **缓存空值或默认值** ：在缓存中设置一个空值或默认值，发生缓存穿透时就可以直接返回空值或默认值，而不会继续查询数据库。\n3. **[[布隆过滤器]]** ：使用布隆过滤器快速判断数据是否存在，避免通过查询数据库判断。\n\n## 总结\n\n[img 缓存雪崩、缓存击穿、缓存穿透的产生原因及应对方案](../images/缓存雪崩、缓存击穿、缓存穿透的产生原因及应对方案.webp)","embedding":[0.013360495,0.022019196,-0.032956827,0.018305736,0.010368212,-0.038949117,0.039697975,0.0794597,-0.018478636,-0.0014523559,-0.0045141587,0.0111491345,-0.014151655,0.032834083,-0.01679308,-0.013988463,-0.0030623493,0.0005091039,-0.022301413,-0.0015441878,-0.042750478,0.006418291,0.014494472,-0.018540075,-0.013228628,0.056192786,-0.014696564,-0.048813455,-0.00912048,0.015762927,0.04645877,-0.012107869,-0.0035203127,-0.034467418,-0.005613242,-0.05973709,-0.004241269,-0.029645173,-0.09348907,-0.0056344387,0.012160445,-0.015284664,-0.029153015,0.007857136,-0.0041395267,-0.0018184899,-0.013255754,-0.066366926,-0.015430983,-0.014309149,-0.04812568,-0.011129716,-0.005342203,-0.030549088,-0.004221711,0.047108807,0.009101681,-0.00381568,0.012148342,-0.003822082,0.01090109,-0.011470428,0.00048160768,-0.008479944,-0.030532068,0.016367475,0.00906101,0.03847859,0.02435089,-0.048917364,0.006457249,0.028750166,-0.040827014,-0.061281588,0.005904319,-0.0069507137,0.014057629,0.008445561,0.004316054,-0.044167656,0.10556277,-0.04404283,0.020582736,-0.017724115,-0.036485437,-0.032347843,-0.029654173,0.04440609,0.019681284,0.01543272,0.016943322,0.04246243,-0.00006643021,-0.059554007,-0.0017347047,-0.0077974,-0.0026867408,-0.018179266,0.04776852,-0.0055283327,-0.034598198,0.0033736525,0.00566217,0.031216266,0.029692657,0.00055116566,-0.004990919,0.022548048,-0.02766388,0.0139679285,-0.029323092,-0.018887658,-0.019542204,0.014643775,-0.0017349083,-0.010831464,-0.024374634,-0.011361669,0.017564885,-0.001151124,0.009818665,0.06494613,0.016963517,-0.0073656472,0.0060188915,0.0087248795,-0.024111545,0.05274088,-0.063025795,0.0055619767,0.0046123387,0.021833256,0.051887646,-0.027073883,-0.03189534,-0.010302043,0.03788306,0.07575205,0.054261185,-0.041823093,0.012028736,0.014493288,-0.025535043,-0.010159323,0.05983693,0.0050937207,0.011021254,0.013023842,-0.033302218,0.04138847,-0.026844332,-0.042053953,-0.0015460912,-0.009326235,0.013987031,0.004823192,0.022242144,-0.0055428636,0.007689555,-0.02819521,-0.004111269,-0.013711902,0.0040283925,0.0719746,0.02630083,0.011996724,0.012186185,0.0075713745,-0.007567167,-0.017701605,0.004119564,-0.07124621,0.021428628,-0.0022013818,0.029092576,0.060798407,0.0522083,0.024000308,0.00700486,-0.031031286,-0.016411133,0.005391103,0.035816625,-0.046322335,0.02722672,-0.0061049373,0.0014689065,-0.0036846916,0.003990239,0.06838441,-0.006662953,-0.032652926,0.053385787,0.009811321,-0.005555284,-0.02080362,-0.018820854,0.0040738876,0.055571772,-0.04982695,-0.02456832,0.018444447,-0.034613848,0.036514096,-0.006635053,0.007918723,-0.013871771,-0.05887287,0.01532256,0.019839942,0.03038212,0.0060749426,-0.02011751,0.014806207,-0.012726954,-0.015577524,0.007116368,0.0077813077,0.024102116,0.0053105676,-0.002288838,-0.022876576,-0.008197967,-0.018323932,0.034025572,0.027031124,0.029836578,0.047408625,0.020585937,0.011646329,-0.0552763,0.09010065,-0.02737176,-0.019912502,-0.0032135658,0.01956209,-0.0409965,0.0001668508,0.039275236,0.0288447,-0.015836902,-0.05821262,-0.0097265765,-0.041897133,-0.05412733,0.026373811,0.005452561,0.012871143,-0.023028987,-0.0046960763,-0.04846535,-0.021208785,0.00860402,-0.035212193,-0.011931898,-0.08228362,-0.023564773,-0.017720303,0.030899568,0.022110151,0.028297627,-0.018949814,-0.009605698,0.03675133,-0.0326288,-0.0055554444,-0.018497264,-0.04122234,0.004649472,0.062326312,-0.026855893,0.016989356,-0.033101726,0.0069791316,-0.01633458,-0.012547614,0.013052643,-0.031924088,0.037142374,-0.008887455,0.0020855889,-0.008187676,0.000051395884,-0.026054207,-0.008687186,0.042719617,-0.018746316,-0.004833157,0.0129905,-0.017650109,-0.0068471846,0.020671325,0.0856085,-0.019484382,0.028920697,0.015607743,-0.022377267,-0.19374424,-0.017606104,0.021461058,-0.01978432,0.002563076,-0.01312254,0.0075483867,0.015087754,-0.0018330252,-0.03849522,-0.034894627,-0.14225928,-0.017992051,-0.0239946,0.034637406,0.044667512,0.040820133,0.012212834,0.010372831,-0.07777333,0.01517949,0.01455413,0.032869726,0.015383927,0.029818775,0.00066140154,0.00549595,0.06415039,-0.024775425,0.0096264295,-0.033583324,0.015443539,-0.03851737,-0.039141625,0.0167842,0.026972031,0.019741056,-0.029033607,0.009196695,-0.0013685687,0.043450944,0.022904556,-0.0028430345,-0.07343287,0.03908193,-0.0019424588,-0.015952442,0.0015815744,-0.010771601,0.032704167,-0.0047234725,0.018334951,0.0032557405,-0.016918829,-0.019805038,0.0150929475,0.012487732,0.04955273,0.017259894,0.017598605,-0.0109530715,-0.048721056,-0.040721096,-0.0096195135,0.013812139,-0.0058342516,0.0017705567,-0.017698128,0.009791151,-0.048965614,0.017071828,0.00358543,-0.030174816,-0.031393483,-0.02415514,0.0005923763,0.0008187756,-0.019588977,-0.035814498,-0.07399181,0.014107415,0.0072334246,-0.033834126,0.013982732,-0.016335486,0.018815687,-0.06051927,-0.047088247,0.011777963,0.31563482,-0.031703632,-0.028275829,0.022284431,0.014570733,0.023871286,0.0135278925,0.007946893,0.017720113,-0.008271583,-0.0048062233,-0.0061128363,-0.003667867,0.031975042,-0.00011110289,0.037593294,-0.026864968,0.0071509937,0.0003285255,-0.012748795,0.02224691,-0.033447947,0.008899797,0.01948082,-0.032692634,0.022918269,0.01783546,0.0073155495,-0.06359069,-0.0032650628,-0.013803102,0.011677188,-0.016469745,-0.046511065,-0.031072676,0.030804371,-0.0789073,-0.04226229,-0.016478317,0.017193982,0.029462092,-0.021428937,-0.017399736,0.0012543694,-0.035799544,-0.03360158,-0.01737955,-0.021450536,-0.03035737,-0.038191546,-0.0032250192,-0.026850749,-0.029750662,0.02295479,-0.009611596,0.0028607447,-0.034731954,0.010689045,-0.025748843,0.009671803,0.007052947,0.018094163,-0.06630656,0.0425213,0.041929573,0.009189627,-0.029272795,-0.008810915,0.0014841153,0.0025188373,0.026600568,0.032725677,0.02836715,-0.014755811,-0.017327962,-0.017881393,-0.011366576,0.02809853,-0.024588214,0.031445406,-0.018219503,0.009189739,0.019999022,0.041981835,0.010159124,0.04038036,-0.029811688,0.041852526,0.0015130142,-0.04699348,-0.0021848318,-0.026989866,-0.013683823,-0.00014791828,0.05209404,-0.0005831969,-0.011995674,-0.055628777,-0.0037686909,-0.014169539,0.035331324,0.0012983719,0.021652061,-0.012803186,-0.009639228,-0.011682349,0.0068367743,-0.02197634,-0.011758307,-0.0013401986,-0.041495726,0.022871746,0.0036879294,-0.008841286,0.037224397,0.028505394,0.022156868,0.04245231,0.01565819,0.012438266,-0.040908653,-0.026754443,0.0067700045,0.010347442,0.0071071847,-0.068459496,0.025854077,-0.027925141,-0.03168595,0.020016192,0.029603334,0.025375161,-0.018105378,-0.0058400505,-0.01937912,-0.051488403,0.019738575,0.0001829073,0.006253642,0.023910847,0.03242051,-0.024054527,-0.00038723677,0.021226835,-0.033763207,-0.015124547,-0.0067252894,-0.01710176,0.010534591,-0.017262537,0.005239876,-0.01546107,0.02881343,-0.018467853,-0.016022334,0.00031118863,0.0124641545,0.00959248,-0.038507223,-0.020837286,-0.02675207,0.011083959,0.022085758,0.05721485,0.027225452,0.04842652,0.020562658,0.051554777,-0.0054532667,-0.009386367,0.022094091,-0.044487353,0.009814128,0.02227399,0.037776474,-0.04909962,-0.024378462,0.036948055,0.026992906,0.022985686,0.052071508,0.012870567,-0.021639548,0.025621502,-0.036663312,0.017002296,-0.0028840331,0.004003881,0.0022495883,-0.009517055,0.020948282,0.07046581,-0.00764067,-0.004388688,0.021701913,-0.02375509,-0.0017339125,0.003983969,-0.014409423,0.0026935355,0.055344786,0.00793271,0.004580909,0.02917294,0.046211503,0.0059818164,0.040832184,0.030713765,0.012853975,-0.046384275,0.03424213,0.0071223127,-0.012946682,-0.02251977,-0.013960476,-0.026975412,0.05995806,0.021738084,0.017553441,-0.019685904,-0.031203255,-0.022169644,0.008701228,-0.028192936,-0.019296082,0.012023895,-0.001989605,-0.031755287,-0.022972,0.025469877,-0.018223263,-0.015232883,0.012611992,-0.028399022,-0.010094599,0.0019712255,0.035053924,0.029220449,0.015471867,0.03469216,-0.02164564,-0.024589332,0.0055597876,0.036523018,0.025406735,0.008575423,-0.046560567,0.034826696,-0.012704743,0.0065535293,0.0075975335,0.0036054775,-0.06109399,-0.030314233,0.020993283,0.068458654,0.017405933,-0.033202365,-0.024284655,-0.012218176,-0.017923212,0.004655077,0.01693454,-0.0057825227,-0.0078081624,0.0025379523,-0.020802341,-0.055766854,0.0006152994,-0.04975595,0.0043186247,-0.031689223,-0.020330885,-0.0527029,-0.0120161865,0.0051825107,0.017166475,-0.0133216875,-0.013852841,0.019193767,-0.08606947,0.0042643365,0.028854618,-0.004689578,0.010581594,0.0034810978,0.0039455653,0.008799975,-0.036345415,-0.0066661,0.014778537,-0.001773239,-0.048171975,0.01957998,-0.00020899632,0.04082511,-0.023637176,0.037213624,0.020723052,0.008815063,0.01622275,0.0052446895,-0.003918668,-0.020095978,-0.0071987608,0.054890223,0.0018581381,-0.006918526,-0.00089798716,-0.012954051,-0.00004119885,-0.019356793,-0.01110939,-0.00619411,-0.0052378024,-0.032300454,-0.026122974,0.0200863,-0.027118778,-0.005258446,0.02224712,0.020266123,-0.023413,0.03181148,-0.017476978,-0.025015619,-0.025423694,-0.024732724,0.0030141168,-0.011697474,-0.02819865,-0.0032245733,0.030513722,-0.0126740225,-0.003995518,-0.00054720684,0.056576736,-0.00692208,0.018445281,0.0073983585,-0.033469275,0.02446201,-0.0048374957,0.0067371875,0.015930781,0.06652769,0.019357862,-0.024991445,-0.043137353,-0.01699278,0.03054809,0.027743911,-0.020243693,0.033172756,-0.014406628,-0.031869993,-0.00052580104,0.04345725,0.03522283,0.0070204306,0.014351947,0.056208182,0.018185461,-0.00025244989,0.0013033312,-0.026628248,0.019415049,0.009300604,-0.027092509,0.029315673,0.0027186845,0.039820585,-0.037750896,-0.027599413,-0.04367667,0.007406567,0.02609817,0.0018932191,0.011124347,-0.011079034,-0.027862467,0.00043127956,0.007944152,-0.05086852,0.011023973,0.0031579104,-0.040454958,-0.016597748,-0.036465887,0.037764307,0.0073987674,0.025460893,0.0090506,0.010209182,-0.10776405,0.05272681,-0.018800851,-0.005888987,0.027126199,0.00012349663,-0.012738957,-0.05578472,-0.013579592,-0.04455592,0.046252765,-0.013197931,0.014246572,-0.04211993,0.0011359033,-0.019707128,-0.02355345,0.018465154,0.015530451,0.005649451,-0.0063808477,-0.05071509,-0.03548272,-0.06805879,0.0049698213,0.027033972,-0.01953486,0.032179065,0.008466296,0.00811746,0.0047117225,-0.009145834,-0.022702986,0.0852093,0.0041411654,0.018233335,-0.027735649,-0.03818167,0.019917497,0.054076858,0.048708472,0.0055493596,-0.008691671,0.0013751213,-0.019970663,-0.009128302,-0.03604351,-0.023957113,-0.0323881,-0.017807564,-0.12486943,0.0040955856,0.022415038,-0.024892442,0.023173025,0.0015583908,-0.0017504484,-0.023346078,0.00020395356,0.008866894,-0.004536309,0.00696138,-0.029724367,-0.04195074,0.03317068,0.0076750265,0.0073275124,0.00775766,-0.030962752,-0.028498689,0.010688898,-0.050300498,0.014960808,-0.018304268,0.014205897,-0.014038077,0.05960163,-0.023713795,0.021296363,-0.015009541,-0.0055255448,-0.005427187,-0.0042135944,0.052960344,0.079973266,-0.0010558014,0.012794771,-0.0065959254,-0.002899305,-0.036289304,-0.050163046,0.02892846,0.01883826,0.02927498,-0.024205893,-0.00895424,0.015826719,-0.01670296,0.028163303,0.00067650445,0.025236415,0.035923377,0.0048908065,0.00204068,0.011583418,-0.00894316,-0.056502376,0.015142581,-0.041920602,-0.00029970804,0.009706284,-0.057739135,-0.045434598,0.0226326,-0.041648243,-0.0150429215,-0.0023694143,0.03151174,-0.011062144,-0.011001415,0.035757776,0.042430855,-0.0075739236,-0.06346705,0.034346126,-0.02275308,0.0042505693,0.021086402,0.035895,-0.017570522,0.05398204,-0.007841901,-0.051155176,0.0018410905,0.005557338,-0.013652759,-0.024339855,0.09302111,-0.00026104288,-0.031930447,-0.016857922,0.0039404356,-0.0009561773,-0.04717735,-0.054730326,-0.0016098948,0.013801421,-0.026490783,-0.008491348,0.0020961212,-0.016918859,0.0031752419,0.022835547,0.013939054,-0.027134016,-0.005211345,-0.000585849,-0.053028792,-0.026273856,0.053428598,0.003803134,0.0012747442,0.0007526871,-0.015767468,-0.05184983,-0.002184513,-0.030144,-0.022659212,0.03832038,0.015266482,-0.0044291047,0.060942233,0.00687231,0.06127369,0.028151855,-0.02658615,0.009686402,-0.004603322,0.059989527,0.014192455,-0.010670326,-0.028044663,0.024920678,0.008548468,0.027407931,-0.0019498689,0.03050859,0.018393924,-0.034401063,0.015449213,-0.009316426,0.02966597,0.024040343,0.035207596,0.021685923,-0.056456015,0.018856015,-0.0046786247,0.0012969812,0.006516712,-0.047777366,-0.061462123,-0.03379351,-0.0018631043,0.0033159489,0.024144446,-0.01755494,-0.0005984785,-0.01816503,0.02298155,-0.01912732,0.024550004,0.017435694,0.045556523,0.044950537,-0.01666104,0.0052550766,0.010562885,0.032242525,-0.015152677,-0.0016499566,0.044119604,-0.017006764,-0.02515238,-0.003167584,-0.026875803,0.00023621245,0.026160097,-0.0247293,-0.038526244,0.014489502,0.022980163,0.003985944,0.044585377,0.02765425,0.016260516,-0.015649345,0.04802325,0.0077408883,0.020821152,-0.026409863,-0.008170358,0.038198493,0.032530047],"created_at":1746088925969,"nchars":1408}},"count":1}}